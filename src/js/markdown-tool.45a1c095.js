"use strict";(self["webpackChunktool_vue2"]=self["webpackChunktool_vue2"]||[]).push([[887],{40264:(t,e,a)=>{a.r(e),a.d(e,{default:()=>at});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto py-6 px-4"},[e("h1",{staticClass:"text-2xl font-bold mb-6 text-neutral-800 dark:text-neutral-100"},[t._v("Markdown 编辑器")]),e("div",{staticClass:"bg-white dark:bg-neutral-800 rounded-lg shadow-md p-4 md:p-6"},[e("Markdown",{model:{value:t.markdownContent,callback:function(e){t.markdownContent=e},expression:"markdownContent"}})],1)])},r=[],s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col"},[e("div",{staticClass:"flex items-center justify-between mb-2"},[e("MarkdownToolbar",{staticClass:"flex-1",attrs:{canUndo:t.canUndo,canRedo:t.canRedo,hasContent:!!t.markdown,copied:t.copied},on:{format:t.handleFormat,action:t.handleAction,copy:t.copyMarkdown}}),e("button",{staticClass:"ml-2 px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"Markdown 帮助"},on:{click:function(e){t.showHelpDialog=!0}}},[e("i",{staticClass:"fa fa-question-circle mr-1"}),t._v("帮助 ")])],1),e("div",{staticClass:"flex flex-col md:flex-row gap-4"},[e("MarkdownEditor",{ref:"editor",staticClass:"flex-1",model:{value:t.markdown,callback:function(e){t.markdown=e},expression:"markdown"}}),e("MarkdownPreview",{staticClass:"flex-1",attrs:{value:t.markdown}})],1),e("ImageDialog",{attrs:{show:t.showImageDialog},on:{close:function(e){t.showImageDialog=!1},insert:t.insertContent}}),e("LinkDialog",{attrs:{show:t.showLinkDialog,selectedText:t.selectedText},on:{close:function(e){t.showLinkDialog=!1},insert:t.insertContent}}),e("HelpDialog",{attrs:{show:t.showHelpDialog},on:{close:function(e){t.showHelpDialog=!1}}})],1)},i=[],l=(a(25276),a(48598),a(8921),a(62062),a(44114),a(18111),a(61701),a(26099),a(76031),function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap items-center gap-2 mb-2"},[e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{disabled:!t.canUndo,title:"撤销"},on:{click:function(e){return t.$emit("action","undo")}}},[e("i",{staticClass:"fa fa-undo"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{disabled:!t.canRedo,title:"重做"},on:{click:function(e){return t.$emit("action","redo")}}},[e("i",{staticClass:"fa fa-repeat"})]),e("span",{staticClass:"mx-1 text-neutral-300 dark:text-neutral-600"},[t._v("|")]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"加粗"},on:{click:function(e){return t.$emit("format","bold")}}},[e("i",{staticClass:"fa fa-bold"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"斜体"},on:{click:function(e){return t.$emit("format","italic")}}},[e("i",{staticClass:"fa fa-italic"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"标题"},on:{click:function(e){return t.$emit("format","heading")}}},[e("i",{staticClass:"fa fa-header"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"引用"},on:{click:function(e){return t.$emit("format","quote")}}},[e("i",{staticClass:"fa fa-quote-left"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"行内代码"},on:{click:function(e){return t.$emit("format","code")}}},[e("i",{staticClass:"fa fa-code"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"代码块"},on:{click:function(e){return t.$emit("format","codeblock")}}},[e("i",{staticClass:"fa fa-file-code"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"链接"},on:{click:function(e){return t.$emit("format","link")}}},[e("i",{staticClass:"fa fa-link"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"图片"},on:{click:function(e){return t.$emit("format","image")}}},[e("i",{staticClass:"fa fa-image"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"无序列表"},on:{click:function(e){return t.$emit("format","ul")}}},[e("i",{staticClass:"fa fa-list-ul"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"有序列表"},on:{click:function(e){return t.$emit("format","ol")}}},[e("i",{staticClass:"fa fa-list-ol"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"任务列表"},on:{click:function(e){return t.$emit("format","task")}}},[e("i",{staticClass:"fa fa-check-square"})]),e("button",{staticClass:"px-2 py-1 rounded bg-neutral-200 dark:bg-neutral-700 hover:bg-primary/80 hover:text-white text-xs font-semibold transition",attrs:{title:"分隔线"},on:{click:function(e){return t.$emit("format","hr")}}},[e("i",{staticClass:"fa fa-minus"})]),e("div",{staticClass:"flex-1"}),e("button",{staticClass:"px-3 py-1 rounded bg-green-500 text-white text-xs font-semibold hover:bg-green-600 transition disabled:bg-neutral-200 disabled:text-neutral-400 disabled:cursor-not-allowed",attrs:{disabled:!t.hasContent,title:"复制全部 Markdown"},on:{click:function(e){return t.$emit("copy")}}},[e("i",{staticClass:"fa fa-copy mr-1"}),t._v("复制全部 ")]),t.copied?e("span",{staticClass:"ml-2 text-green-500 text-xs"},[t._v("已复制！")]):t._e()])}),o=[];const d={name:"MarkdownToolbar",props:{canUndo:{type:Boolean,default:!1},canRedo:{type:Boolean,default:!1},hasContent:{type:Boolean,default:!1},copied:{type:Boolean,default:!1}}},u=d;var c=a(81656),m=(0,c.A)(u,l,o,!1,null,null,null);const f=m.exports;var b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-1"},[e("label",{staticClass:"mb-2 text-base text-neutral-700 dark:text-neutral-200 font-semibold"},[t._v("Markdown 编辑")]),e("textarea",{ref:"textarea",staticClass:"flex-1 min-h-[500px] w-full p-2 md:p-3 rounded border border-neutral-200 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 text-sm md:text-base leading-tight text-neutral-800 dark:text-neutral-100 font-mono resize-none focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition",attrs:{placeholder:"在这里输入 Markdown 内容..."},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.handleTab.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:e.shiftKey?(e.preventDefault(),t.handleShiftTab.apply(null,arguments)):null}]}}),t._m(0)])},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-2 text-xs text-neutral-400 dark:text-neutral-500"},[e("span",[t._v("快捷键：Tab/Shift+Tab 缩进，Ctrl+Z 撤销，Ctrl+Y 重做。常用语法：**加粗**、*斜体*、`代码`、[链接](url)、- 列表、> 引用、--- 分隔线。")])])}];a(34782),a(11392);const x={name:"MarkdownEditor",props:{value:{type:String,default:""}},methods:{handleTab:function(t){var e=this.$refs.textarea,a=this.value,n=[e.selectionStart,e.selectionEnd],r=n[0],s=n[1],i=a.slice(0,r),l=a.slice(r,s),o=a.slice(s);if(0===l.length)this.updateMarkdown(i+"  "+o,r+2);else{var d=l.split("\n"),u=d.map(function(t){return"  "+t}).join("\n");this.updateMarkdown(i+u+o,i.length,i.length+u.length)}},handleShiftTab:function(t){var e=this.$refs.textarea,a=this.value,n=[e.selectionStart,e.selectionEnd],r=n[0],s=n[1],i=a.slice(0,r),l=a.slice(r,s),o=a.slice(s);if(0!==l.length){var d=l.split("\n"),u=d.map(function(t){return t.startsWith("  ")?t.slice(2):t}).join("\n");this.updateMarkdown(i+u+o,i.length,i.length+u.length)}},updateMarkdown:function(t,e,a){var n=this;this.$emit("input",t),this.$nextTick(function(){var t=n.$refs.textarea;"number"===typeof a?t.setSelectionRange(e,a):t.setSelectionRange(e,e),t.focus()})},focus:function(){this.$refs.textarea.focus()},getSelection:function(){var t=this.$refs.textarea;return{text:this.value.slice(t.selectionStart,t.selectionEnd),start:t.selectionStart,end:t.selectionEnd}},setSelection:function(t,e){var a=this.$refs.textarea;a.setSelectionRange(t,e),a.focus()}}},p=x;var k=(0,c.A)(p,b,h,!1,null,null,null);const g=k.exports;var v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-1"},[e("label",{staticClass:"mb-2 text-base text-neutral-700 dark:text-neutral-200 font-semibold"},[t._v("预览效果")]),e("div",{ref:"previewEl",staticClass:"markdown-body flex-1 min-h-[500px] w-full p-3 md:p-4 rounded border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-sm md:text-base text-neutral-800 dark:text-neutral-100 overflow-auto",domProps:{innerHTML:t._s(t.renderedMarkdown)}})])},w=[],C=(a(28706),a(51629),a(74423),a(7588),a(27495),a(21699),a(25440),a(23500),a(36824)),y=a(18353);y.A.setConfig({ADD_ATTR:["class","data-checked"],ALLOWED_ATTR:["class","id","href","target","src","alt","title","data-checked"],FORBID_TAGS:["input"]}),C.xI.setOptions({breaks:!0,gfm:!0,headerIds:!0});var _=new C.xI.Renderer,T=_.listitem;_.listitem=function(t,e,a){if(e){var n=t.replace(/^\s*\[[xX ]]\s*/i,""),r='<span class="check-box'.concat(a?" checked":"",'" data-checked="').concat(a?"true":"false",'"></span>');return'<li class="task-list-item">'.concat(r,'<span class="task-text">').concat(n,"</span></li>")}return T.call(this,t)};var S=_.list;_.list=function(t,e,a){var n=t.includes('class="task-list-item"'),r=n?' class="contains-task-list"':"",s=S.call(this,t,e,a);return n?s.replace(/^<([uo])l>/,"<$1l".concat(r,">")):s},C.xI.use({renderer:_});const $={name:"MarkdownPreview",props:{value:{type:String,default:""}},computed:{renderedMarkdown:function(){if(!this.value)return'<div class="text-neutral-400 dark:text-neutral-500">预览内容将显示在这里...</div>';var t=(0,C.xI)(this.value);return y.A.sanitize(t)}},watch:{value:function(){var t=this;this.$nextTick(function(){t.processTaskLists()})}},mounted:function(){var t=this;this.$nextTick(function(){t.processTaskLists()})},updated:function(){var t=this;this.$nextTick(function(){t.processTaskLists()})},methods:{processTaskLists:function(){if(this.$refs.previewEl){var t=this.$refs.previewEl.querySelectorAll('input[type="checkbox"]');t.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)});var e=this.$refs.previewEl.querySelectorAll(".contains-task-list");0!==e.length&&e.forEach(function(t){t.style.listStyleType="none";var e=t.querySelectorAll(".task-list-item");e.forEach(function(t){var e=t.querySelectorAll('input[type="checkbox"]');e.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)});var a=t.querySelector(".check-box");if(a){var n="true"===a.getAttribute("data-checked");n?a.classList.add("checked"):a.classList.remove("checked")}});var a=t.querySelectorAll("li > ul, li > ol");a.forEach(function(t){t.classList.contains("contains-task-list")&&t.classList.add("nested-task-list")})})}}}},M=$;var A=(0,c.A)(M,v,w,!1,null,"71a2da0a",null);const U=A.exports;var L=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},[e("div",{staticClass:"w-full max-w-lg p-4 bg-white dark:bg-neutral-800 rounded-lg shadow-xl"},[e("h3",{staticClass:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100"},[t._v("插入图片")]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"block text-sm font-medium mb-1 text-neutral-700 dark:text-neutral-300"},[t._v("图片URL")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.imageUrl,expression:"imageUrl"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-600 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none",attrs:{type:"text",placeholder:"输入图片链接..."},domProps:{value:t.imageUrl},on:{input:function(e){e.target.composing||(t.imageUrl=e.target.value)}}})]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"block text-sm font-medium mb-1 text-neutral-700 dark:text-neutral-300"},[t._v("图片描述（可选）")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.imageAlt,expression:"imageAlt"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-600 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none",attrs:{type:"text",placeholder:"输入图片描述..."},domProps:{value:t.imageAlt},on:{input:function(e){e.target.composing||(t.imageAlt=e.target.value)}}})]),e("div",{staticClass:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded mb-4"},[e("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFileUpload}}),e("button",{staticClass:"px-3 py-2 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 rounded text-sm font-medium transition",on:{click:function(e){return t.$refs.fileInput.click()}}},[t._v(" 选择本地图片 ")]),e("p",{staticClass:"mt-2 text-xs text-neutral-500 dark:text-neutral-400"},[t._v(" 上传本地图片将转换为Base64格式 ")])]),t.imageUrl||t.imageBase64?e("div",{staticClass:"mb-4 p-2 border border-neutral-200 dark:border-neutral-700 rounded"},[e("p",{staticClass:"text-xs mb-1 text-neutral-500 dark:text-neutral-400"},[t._v("预览：")]),e("img",{staticClass:"max-h-40 max-w-full mx-auto rounded",attrs:{src:t.imageBase64||t.imageUrl,alt:t.imageAlt}}),t.imageBase64?e("div",{staticClass:"mt-2"},[t._m(0),t.isLargeImage?e("div",{staticClass:"mt-1 text-xs text-red-600 dark:text-red-400"},[e("i",{staticClass:"fa fa-exclamation-triangle mr-1"}),t._v("警告：图片较大，可能导致Markdown文档过大！ ")]):t._e()]):t._e()]):t._e(),e("div",{staticClass:"flex justify-end gap-2 mt-4"},[e("button",{staticClass:"px-3 py-1.5 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 rounded text-sm font-medium transition",on:{click:t.cancel}},[t._v(" 取消 ")]),e("button",{staticClass:"px-3 py-1.5 bg-primary text-white rounded text-sm font-medium hover:bg-primary/90 transition disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:!t.imageUrl&&!t.imageBase64},on:{click:t.confirm}},[t._v(" 插入 ")])])])]):t._e()},D=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"text-xs text-amber-600 dark:text-amber-400"},[e("i",{staticClass:"fa fa-info-circle mr-1"}),t._v("本地图片将使用Base64编码，适合小图片（<1MB） ")])}];a(62010);const R={name:"ImageDialog",props:{show:{type:Boolean,default:!1}},data:function(){return{imageUrl:"",imageAlt:"",imageBase64:"",fileSize:0,isConverting:!1}},computed:{isLargeImage:function(){return this.fileSize>512e3}},methods:{cancel:function(){this.imageUrl="",this.imageAlt="",this.imageBase64="",this.fileSize=0,this.$emit("close")},confirm:function(){if(this.imageUrl||this.imageBase64){var t=this.imageAlt||"图片",e=this.imageBase64||this.imageUrl,a="![".concat(t,"](").concat(e,")");this.$emit("insert",a),this.cancel()}},handleFileUpload:function(t){var e=this,a=t.target.files[0];if(a){this.fileSize=a.size,this.isConverting=!0,this.imageAlt||(this.imageAlt=a.name.split(".")[0]),this.imageUrl="";var n=new FileReader;n.onload=function(t){e.imageBase64=t.target.result,e.isConverting=!1},n.onerror=function(){alert("图片读取失败，请重试！"),e.isConverting=!1},n.readAsDataURL(a)}}},watch:{show:function(t){t||(this.imageUrl="",this.imageAlt="",this.imageBase64="",this.fileSize=0)}}},B=R;var I=(0,c.A)(B,L,D,!1,null,null,null);const E=I.exports;var j=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},[e("div",{staticClass:"w-full max-w-md p-4 bg-white dark:bg-neutral-800 rounded-lg shadow-xl"},[e("h3",{staticClass:"text-lg font-semibold mb-4 text-neutral-800 dark:text-neutral-100"},[t._v("插入链接")]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"block text-sm font-medium mb-1 text-neutral-700 dark:text-neutral-300"},[t._v("链接文本")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.linkText,expression:"linkText"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-600 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none",attrs:{type:"text",placeholder:"显示的文本..."},domProps:{value:t.linkText},on:{input:function(e){e.target.composing||(t.linkText=e.target.value)}}})]),e("div",{staticClass:"mb-4"},[e("label",{staticClass:"block text-sm font-medium mb-1 text-neutral-700 dark:text-neutral-300"},[t._v("链接URL")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-600 rounded bg-white dark:bg-neutral-700 text-neutral-800 dark:text-neutral-100 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none",attrs:{type:"text",placeholder:"https://..."},domProps:{value:t.linkUrl},on:{input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})]),e("div",{staticClass:"flex justify-end gap-2 mt-4"},[e("button",{staticClass:"px-3 py-1.5 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 rounded text-sm font-medium transition",on:{click:t.cancel}},[t._v(" 取消 ")]),e("button",{staticClass:"px-3 py-1.5 bg-primary text-white rounded text-sm font-medium hover:bg-primary/90 transition disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:!t.linkUrl||!t.linkText},on:{click:t.confirm}},[t._v(" 插入 ")])])])]):t._e()},q=[];const z={name:"LinkDialog",props:{show:{type:Boolean,default:!1},selectedText:{type:String,default:""}},data:function(){return{linkText:"",linkUrl:""}},watch:{show:function(t){t&&this.selectedText&&(this.linkText=this.selectedText)}},methods:{cancel:function(){this.linkText="",this.linkUrl="",this.$emit("close")},confirm:function(){if(this.linkUrl&&this.linkText){var t="[".concat(this.linkText,"](").concat(this.linkUrl,")");this.$emit("insert",t),this.cancel()}}}},H=z;var P=(0,c.A)(H,j,q,!1,null,null,null);const N=P.exports;var O=function(){var t=this,e=t._self._c;return t.show?e("div",{staticClass:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},[e("div",{staticClass:"w-full max-w-3xl p-5 bg-white dark:bg-neutral-800 rounded-lg shadow-xl max-h-[90vh] overflow-auto"},[e("div",{staticClass:"flex justify-between items-center mb-4"},[e("h3",{staticClass:"text-xl font-semibold text-neutral-800 dark:text-neutral-100"},[t._v("Markdown 语法帮助")]),e("button",{staticClass:"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times"})])]),t._m(0),e("div",{staticClass:"flex justify-end mt-4"},[e("button",{staticClass:"px-4 py-2 bg-primary text-white rounded text-sm font-medium hover:bg-primary/90 transition",on:{click:function(e){return t.$emit("close")}}},[t._v(" 关闭 ")])])])]):t._e()},F=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"markdown-body"},[e("h2",[t._v("基本语法")]),e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},[e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("标题")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("# 一级标题\n## 二级标题\n### 三级标题")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("强调")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("**加粗文本**\n*斜体文本*\n~~删除线~~")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("列表")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("- 无序列表项\n- 另一个项目\n  - 嵌套项目\n\n1. 有序列表项\n2. 另一个项目")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("链接和图片")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("[链接文本](https://example.com)\n![图片描述](图片URL)")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("引用")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("> 这是一段引用文本\n> 可以有多行")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("代码")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("`行内代码`\n\n```javascript\n// 代码块\nfunction example() {\n  return true;\n}\n```")])])]),e("h2",[t._v("高级语法")]),e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},[e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("表格")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("| 表头1 | 表头2 | 表头3 |\n| ----- | ----- | ----- |\n| 单元格 | 单元格 | 单元格 |\n| 单元格 | 单元格 | 单元格 |")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("任务列表")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("- [x] 已完成任务\n- [ ] 未完成任务\n- [ ] 另一个任务")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("分隔线")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("---\n或\n***")])]),e("div",{staticClass:"p-3 border border-neutral-200 dark:border-neutral-700 rounded"},[e("h4",{staticClass:"font-semibold mb-2 text-neutral-800 dark:text-neutral-100"},[t._v("HTML")]),e("pre",{staticClass:"bg-neutral-100 dark:bg-neutral-900 p-2 rounded mb-2 text-sm font-mono"},[t._v("Markdown 中可以使用 "),e("span",{staticStyle:{color:"red"}},[t._v("HTML")]),t._v(" 标签")])])]),e("div",{staticClass:"mt-4 p-3 border border-neutral-200 dark:border-neutral-700 rounded bg-blue-50 dark:bg-blue-900/20"},[e("h4",{staticClass:"font-semibold mb-2 text-blue-600 dark:text-blue-400"},[t._v("编辑器快捷键")]),e("ul",{staticClass:"list-disc pl-5 text-sm"},[e("li",[e("strong",[t._v("Tab / Shift+Tab")]),t._v(" - 缩进/减少缩进")]),e("li",[e("strong",[t._v("Ctrl+Z")]),t._v(" - 撤销")]),e("li",[e("strong",[t._v("Ctrl+Y")]),t._v(" - 重做")]),e("li",[t._v("工具栏按钮可用于快速插入各种格式")])])])])}];const W={name:"HelpDialog",props:{show:{type:Boolean,default:!1}}},Y=W;var Z=(0,c.A)(Y,O,F,!1,null,null,null);const G=Z.exports,K={name:"Markdown",components:{MarkdownToolbar:f,MarkdownEditor:g,MarkdownPreview:U,ImageDialog:E,LinkDialog:N,HelpDialog:G},props:{value:{type:String,default:""}},data:function(){return{markdown:this.value,undoStack:[],redoStack:[],canUndo:!1,canRedo:!1,showImageDialog:!1,showLinkDialog:!1,showHelpDialog:!1,selectedText:"",copied:!1}},watch:{value:function(t){t!==this.markdown&&(this.markdown=t)},markdown:function(t,e){this.$emit("input",t),t!==e&&(this.undoStack.push(e),this.redoStack=[],this.undoStack.length>50&&this.undoStack.shift(),this.canUndo=this.undoStack.length>0,this.canRedo=this.redoStack.length>0)}},methods:{handleFormat:function(t){var e=this.$refs.editor,a=e.getSelection();switch(t){case"bold":this.wrapText(a,"**","**");break;case"italic":this.wrapText(a,"*","*");break;case"heading":this.prependLine(a,"# ");break;case"quote":this.prependLine(a,"> ");break;case"code":this.wrapText(a,"`","`");break;case"codeblock":this.wrapText(a,"```\n","\n```");break;case"link":this.selectedText=a.text,this.showLinkDialog=!0;break;case"image":this.showImageDialog=!0;break;case"ul":this.prependLine(a,"- ");break;case"ol":this.prependLine(a,"1. ");break;case"task":if(a.text){var n=a.text.split("\n"),r=n.map(function(t){return"- [ ] ".concat(t)}).join("\n"),s=[a.start,a.end],i=s[0],l=s[1];this.insertTextAtRange(i,l,r)}else this.prependLine(a,"- [ ] ");break;case"hr":this.insertContent("---\n");break}},handleAction:function(t){switch(t){case"undo":this.undo();break;case"redo":this.redo();break}},wrapText:function(t,e,a){var n=this.$refs.editor,r=this.markdown;if(t.text){var s=e+t.text+a,i=r.substring(0,t.start)+s+r.substring(t.end);this.markdown=i,this.$nextTick(function(){n.setSelection(t.start+e.length,t.start+e.length+t.text.length)})}else{var l=e+a,o=r.substring(0,t.start)+l+r.substring(t.start);this.markdown=o,this.$nextTick(function(){n.setSelection(t.start+e.length,t.start+e.length)})}},prependLine:function(t,e){var a=this.$refs.editor,n=this.markdown;if(t.text){var r=t.text.split("\n"),s=r.map(function(t){return e+t}).join("\n"),i=n.substring(0,t.start)+s+n.substring(t.end);this.markdown=i,this.$nextTick(function(){a.setSelection(t.start,t.start+s.length)})}else{var l=n.lastIndexOf("\n",t.start-1)+1,o=n.indexOf("\n",t.start),d=-1!==o?n.substring(l,o):n.substring(l),u=n.substring(0,l)+e+d+n.substring(-1!==o?o:n.length);this.markdown=u,this.$nextTick(function(){a.setSelection(l+e.length,l+e.length)})}},insertContent:function(t){var e=this.$refs.editor,a=e.getSelection(),n=this.markdown,r=n.substring(0,a.start)+t+n.substring(a.end);this.markdown=r,this.$nextTick(function(){e.setSelection(a.start+t.length,a.start+t.length)})},insertTextAtRange:function(t,e,a){var n=this,r=this.markdown,s=r.substring(0,t)+a+r.substring(e);this.markdown=s,this.$nextTick(function(){var e=n.$refs.editor;e.setSelection(t+a.length,t+a.length)})},undo:function(){if(this.undoStack.length>0){var t=this.undoStack.pop();this.redoStack.push(this.markdown),this.markdown=t,this.canUndo=this.undoStack.length>0,this.canRedo=this.redoStack.length>0}},redo:function(){if(this.redoStack.length>0){var t=this.redoStack.pop();this.undoStack.push(this.markdown),this.markdown=t,this.canUndo=this.undoStack.length>0,this.canRedo=this.redoStack.length>0}},copyMarkdown:function(){var t=this;navigator.clipboard.writeText(this.markdown).then(function(){t.copied=!0,setTimeout(function(){t.copied=!1},2e3)})}}},V=K;var X=(0,c.A)(V,s,i,!1,null,null,null);const J=X.exports,Q={name:"MarkdownToolView",components:{Markdown:J},data:function(){return{markdownContent:"# Markdown 编辑器示例\n\n这是一个功能强大的 **Markdown 编辑器**，支持所有常用的 Markdown 语法。\n\n## 功能特点\n\n- 实时预览\n- 工具栏快捷操作\n- 支持图片和链接插入\n- 语法高亮\n- 撤销/重做功能\n\n## 代码示例\n\n```javascript\n// 这是一段示例代码\nfunction hello() {\n  console.log('Hello, Markdown!');\n}\n```\n\n> 这是一个引用，可以用来突出显示重要内容。\n\n欢迎尝试编辑这段内容，体验 Markdown 编辑器的各项功能！"}}},tt=Q;var et=(0,c.A)(tt,n,r,!1,null,null,null);const at=et.exports}}]);