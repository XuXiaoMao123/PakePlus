"use strict";(self["webpackChunktool_vue2"]=self["webpackChunktool_vue2"]||[]).push([[564],{10103:(e,r,t)=>{t.d(r,{A:()=>f});t(76918),t(2008),t(44114),t(34782),t(26910),t(54743),t(11745),t(38309),t(16573),t(78100),t(77936),t(59089),t(23288),t(18111),t(22489),t(26099),t(38781),t(21489),t(3690),t(61740),t(48140),t(81630),t(72170),t(75044),t(69539),t(31694),t(89955),t(21903),t(91134),t(33206),t(44496),t(66651),t(12887),t(19369),t(66812),t(8995),t(31575),t(36072),t(88747),t(28845),t(29423),t(57301),t(373),t(86614),t(41405),t(37467),t(44732),t(33684),t(79577);var n=t(78383),i=t.n(n),a={toRGBA8:function(e){var r=e.width,t=e.height;if(null==e.tabs.acTL)return[a.toRGBA8.decodeImage(e.data,r,t,e).buffer];var n=[];null==e.frames[0].data&&(e.frames[0].data=e.data);for(var i=r*t*4,f=new Uint8Array(i),o=new Uint8Array(i),l=new Uint8Array(i),s=0;s<e.frames.length;s++){var c=e.frames[s],u=c.rect.x,h=c.rect.y,d=c.rect.width,v=c.rect.height,p=a.toRGBA8.decodeImage(c.data,d,v,e);if(0!=s)for(var g=0;g<i;g++)l[g]=f[g];if(0==c.blend?a._copyTile(p,d,v,f,r,t,u,h,0):1==c.blend&&a._copyTile(p,d,v,f,r,t,u,h,1),n.push(f.buffer.slice(0)),0==c.dispose);else if(1==c.dispose)a._copyTile(o,d,v,f,r,t,u,h,0);else if(2==c.dispose)for(g=0;g<i;g++)f[g]=l[g]}return n}};a.toRGBA8.decodeImage=function(e,r,t,n){var i=r*t,f=a.decode._getBPP(n),o=Math.ceil(r*f/8),l=new Uint8Array(4*i),s=new Uint32Array(l.buffer),c=n.ctype,u=n.depth,h=a._bin.readUshort;Date.now();if(6==c){var d=i<<2;if(8==u)for(var v=0;v<d;v+=4)l[v]=e[v],l[v+1]=e[v+1],l[v+2]=e[v+2],l[v+3]=e[v+3];if(16==u)for(v=0;v<d;v++)l[v]=e[v<<1]}else if(2==c){var p=n.tabs["tRNS"];if(null==p){if(8==u)for(v=0;v<i;v++){var g=3*v;s[v]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==u)for(v=0;v<i;v++){g=6*v;s[v]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}}else{var w=p[0],b=p[1],y=p[2];if(8==u)for(v=0;v<i;v++){var m=v<<2;g=3*v;s[v]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==w&&e[g+1]==b&&e[g+2]==y&&(l[m+3]=0)}if(16==u)for(v=0;v<i;v++){m=v<<2,g=6*v;s[v]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],h(e,g)==w&&h(e,g+2)==b&&h(e,g+4)==y&&(l[m+3]=0)}}}else if(3==c){var A=n.tabs["PLTE"],U=n.tabs["tRNS"],_=U?U.length:0;if(1==u)for(var H=0;H<t;H++){var I=H*o,q=H*r;for(v=0;v<r;v++){m=q+v<<2;var R=e[I+(v>>3)]>>7-(7&v)&1,M=3*R;l[m]=A[M],l[m+1]=A[M+1],l[m+2]=A[M+2],l[m+3]=R<_?U[R]:255}}if(2==u)for(H=0;H<t;H++)for(I=H*o,q=H*r,v=0;v<r;v++){m=q+v<<2,R=e[I+(v>>2)]>>6-((3&v)<<1)&3,M=3*R;l[m]=A[M],l[m+1]=A[M+1],l[m+2]=A[M+2],l[m+3]=R<_?U[R]:255}if(4==u)for(H=0;H<t;H++)for(I=H*o,q=H*r,v=0;v<r;v++){m=q+v<<2,R=e[I+(v>>1)]>>4-((1&v)<<2)&15,M=3*R;l[m]=A[M],l[m+1]=A[M+1],l[m+2]=A[M+2],l[m+3]=R<_?U[R]:255}if(8==u)for(v=0;v<i;v++){m=v<<2,R=e[v],M=3*R;l[m]=A[M],l[m+1]=A[M+1],l[m+2]=A[M+2],l[m+3]=R<_?U[R]:255}}else if(4==c){if(8==u)for(v=0;v<i;v++){m=v<<2;var T=v<<1,z=e[T];l[m]=z,l[m+1]=z,l[m+2]=z,l[m+3]=e[T+1]}if(16==u)for(v=0;v<i;v++){m=v<<2,T=v<<2,z=e[T];l[m]=z,l[m+1]=z,l[m+2]=z,l[m+3]=e[T+2]}}else if(0==c)for(w=n.tabs["tRNS"]?n.tabs["tRNS"]:-1,H=0;H<t;H++){var D=H*o,x=H*r;if(1==u)for(var N=0;N<r;N++){z=255*(e[D+(N>>>3)]>>>7-(7&N)&1);var P=z==255*w?0:255;s[x+N]=P<<24|z<<16|z<<8|z}else if(2==u)for(N=0;N<r;N++){z=85*(e[D+(N>>>2)]>>>6-((3&N)<<1)&3),P=z==85*w?0:255;s[x+N]=P<<24|z<<16|z<<8|z}else if(4==u)for(N=0;N<r;N++){z=17*(e[D+(N>>>1)]>>>4-((1&N)<<2)&15),P=z==17*w?0:255;s[x+N]=P<<24|z<<16|z<<8|z}else if(8==u)for(N=0;N<r;N++){z=e[D+N],P=z==w?0:255;s[x+N]=P<<24|z<<16|z<<8|z}else if(16==u)for(N=0;N<r;N++){z=e[D+(N<<1)],P=h(e,D+(N<<v))==w?0:255;s[x+N]=P<<24|z<<16|z<<8|z}}return l},a.decode=function(e){for(var r,t=new Uint8Array(e),n=8,i=a._bin,f=i.readUshort,o=i.readUint,l={tabs:{},frames:[]},s=new Uint8Array(t.length),c=0,u=0,h=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(t[d]!=h[d])throw"The input is not a PNG file!";while(n<t.length){var v=i.readUint(t,n);n+=4;var p=i.readASCII(t,n,4);if(n+=4,"IHDR"==p)a.decode._IHDR(t,n,l);else if("IDAT"==p){for(d=0;d<v;d++)s[c+d]=t[n+d];c+=v}else if("acTL"==p)l.tabs[p]={num_frames:o(t,n),num_plays:o(t,n+4)},r=new Uint8Array(t.length);else if("fcTL"==p){if(0!=u){var g=l.frames[l.frames.length-1];g.data=a.decode._decompress(l,r.slice(0,u),g.rect.width,g.rect.height),u=0}var w={x:o(t,n+12),y:o(t,n+16),width:o(t,n+4),height:o(t,n+8)},b=f(t,n+22);b=f(t,n+20)/(0==b?100:b);var y={rect:w,delay:Math.round(1e3*b),dispose:t[n+24],blend:t[n+25]};l.frames.push(y)}else if("fdAT"==p){for(d=0;d<v-4;d++)r[u+d]=t[n+d+4];u+=v-4}else if("pHYs"==p)l.tabs[p]=[i.readUint(t,n),i.readUint(t,n+4),t[n+8]];else if("cHRM"==p){l.tabs[p]=[];for(d=0;d<8;d++)l.tabs[p].push(i.readUint(t,n+4*d))}else if("tEXt"==p){null==l.tabs[p]&&(l.tabs[p]={});var m=i.nextZero(t,n),A=i.readASCII(t,n,m-n),U=i.readASCII(t,m+1,n+v-m-1);l.tabs[p][A]=U}else if("iTXt"==p){null==l.tabs[p]&&(l.tabs[p]={});m=0;var _=n;m=i.nextZero(t,_);A=i.readASCII(t,_,m-_);_=m+1;t[_],t[_+1];_+=2,m=i.nextZero(t,_);i.readASCII(t,_,m-_);_=m+1,m=i.nextZero(t,_);i.readUTF8(t,_,m-_);_=m+1;U=i.readUTF8(t,_,v-(_-n));l.tabs[p][A]=U}else if("PLTE"==p)l.tabs[p]=i.readBytes(t,n,v);else if("hIST"==p){var H=l.tabs["PLTE"].length/3;l.tabs[p]=[];for(d=0;d<H;d++)l.tabs[p].push(f(t,n+2*d))}else if("tRNS"==p)3==l.ctype?l.tabs[p]=i.readBytes(t,n,v):0==l.ctype?l.tabs[p]=f(t,n):2==l.ctype&&(l.tabs[p]=[f(t,n),f(t,n+2),f(t,n+4)]);else if("gAMA"==p)l.tabs[p]=i.readUint(t,n)/1e5;else if("sRGB"==p)l.tabs[p]=t[n];else if("bKGD"==p)0==l.ctype||4==l.ctype?l.tabs[p]=[f(t,n)]:2==l.ctype||6==l.ctype?l.tabs[p]=[f(t,n),f(t,n+2),f(t,n+4)]:3==l.ctype&&(l.tabs[p]=t[n]);else if("IEND"==p)break;n+=v;i.readUint(t,n);n+=4}if(0!=u){g=l.frames[l.frames.length-1];g.data=a.decode._decompress(l,r.slice(0,u),g.rect.width,g.rect.height),u=0}return l.data=a.decode._decompress(l,s,l.width,l.height),delete l.compress,delete l.interlace,delete l.filter,l},a.decode._decompress=function(e,r,t,n){Date.now();var i=a.decode._getBPP(e),f=Math.ceil(t*i/8),o=new Uint8Array((f+1+e.interlace)*n);r=a.decode._inflate(r,o);Date.now();return 0==e.interlace?r=a.decode._filterZero(r,e,0,t,n):1==e.interlace&&(r=a.decode._readInterlace(r,e)),r},a.decode._inflate=function(e,r){var t=a["inflateRaw"](new Uint8Array(e.buffer,2,e.length-6),r);return t},a.inflateRaw=function(){var e={H:{}};return e.H.N=function(r,t){var n,i,a=Uint8Array,f=0,o=0,l=0,s=0,c=0,u=0,h=0,d=0,v=0;if(3==r[0]&&0==r[1])return t||new a(0);var p=e.H,g=p.b,w=p.e,b=p.R,y=p.n,m=p.A,A=p.Z,U=p.m,_=null==t;_&&(t=new a(r.length>>>2<<3));while(0==f)if(f=g(r,v,1),o=g(r,v+1,2),v+=3,0!=o){if(_&&(t=e.H.W(t,d+(1<<17))),1==o&&(n=U.J,i=U.h,u=511,h=31),2==o){l=w(r,v,5)+257,s=w(r,v+5,5)+1,c=w(r,v+10,4)+4,v+=14;for(var H=1,I=0;I<38;I+=2)U.Q[I]=0,U.Q[I+1]=0;for(I=0;I<c;I++){var q=w(r,v+3*I,3);U.Q[1+(U.X[I]<<1)]=q,q>H&&(H=q)}v+=3*c,y(U.Q,H),m(U.Q,H,U.u),n=U.w,i=U.d,v=b(U.u,(1<<H)-1,l+s,r,v,U.v);var R=p.V(U.v,0,l,U.C);u=(1<<R)-1;var M=p.V(U.v,l,s,U.D);h=(1<<M)-1,y(U.C,R),m(U.C,R,n),y(U.D,M),m(U.D,M,i)}while(1){var T=n[A(r,v)&u];v+=15&T;var z=T>>>4;if(z>>>8==0)t[d++]=z;else{if(256==z)break;var D=d+z-254;if(z>264){var x=U.q[z-257];D=d+(x>>>3)+w(r,v,7&x),v+=7&x}var N=i[A(r,v)&h];v+=15&N;var P=N>>>4,C=U.c[P],S=(C>>>4)+g(r,v,15&C);v+=15&C;while(d<D)t[d]=t[d++-S],t[d]=t[d++-S],t[d]=t[d++-S],t[d]=t[d++-S];d=D}}}else{0!=(7&v)&&(v+=8-(7&v));var B=(v>>>3)+4,L=r[B-4]|r[B-3]<<8;_&&(t=e.H.W(t,d+L)),t.set(new a(r.buffer,r.byteOffset+B,L),d),v=B+L<<3,d+=L}return t.length==d?t:t.slice(0,d)},e.H.W=function(e,r){var t=e.length;if(r<=t)return e;var n=new Uint8Array(t<<1);return n.set(e,0),n},e.H.R=function(r,t,n,i,a,f){var o=e.H.e,l=e.H.Z,s=0;while(s<n){var c=r[l(i,a)&t];a+=15&c;var u=c>>>4;if(u<=15)f[s]=u,s++;else{var h=0,d=0;16==u?(d=3+o(i,a,2),a+=2,h=f[s-1]):17==u?(d=3+o(i,a,3),a+=3):18==u&&(d=11+o(i,a,7),a+=7);var v=s+d;while(s<v)f[s]=h,s++}}return a},e.H.V=function(e,r,t,n){var i=0,a=0,f=n.length>>>1;while(a<t){var o=e[a+r];n[a<<1]=0,n[1+(a<<1)]=o,o>i&&(i=o),a++}while(a<f)n[a<<1]=0,n[1+(a<<1)]=0,a++;return i},e.H.n=function(r,t){for(var n,i,a,f,o=e.H.m,l=r.length,s=o.j,c=0;c<=t;c++)s[c]=0;for(c=1;c<l;c+=2)s[r[c]]++;var u=o.K;for(n=0,s[0]=0,i=1;i<=t;i++)n=n+s[i-1]<<1,u[i]=n;for(a=0;a<l;a+=2)f=r[a+1],0!=f&&(r[a]=u[f],u[f]++)},e.H.A=function(r,t,n){for(var i=r.length,a=e.H.m,f=a.r,o=0;o<i;o+=2)if(0!=r[o+1]){var l=o>>1,s=r[o+1],c=l<<4|s,u=t-s,h=r[o]<<u,d=h+(1<<u);while(h!=d){var v=f[h]>>>15-t;n[v]=c,h++}}},e.H.l=function(r,t){for(var n=e.H.m.r,i=15-t,a=0;a<r.length;a+=2){var f=r[a]<<t-r[a+1];r[a]=n[f]>>>i}},e.H.M=function(e,r,t){t<<=7&r;var n=r>>>3;e[n]|=t,e[n+1]|=t>>>8},e.H.I=function(e,r,t){t<<=7&r;var n=r>>>3;e[n]|=t,e[n+1]|=t>>>8,e[n+2]|=t>>>16},e.H.e=function(e,r,t){return(e[r>>>3]|e[(r>>>3)+1]<<8)>>>(7&r)&(1<<t)-1},e.H.b=function(e,r,t){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(7&r)&(1<<t)-1},e.H.Z=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16)>>>(7&r)},e.H.i=function(e,r){return(e[r>>>3]|e[(r>>>3)+1]<<8|e[(r>>>3)+2]<<16|e[(r>>>3)+3]<<24)>>>(7&r)},e.H.m=function(){var e=Uint16Array,r=Uint32Array;return{K:new e(16),j:new e(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new e(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new e(512),_:[],h:new e(32),$:[],w:new e(32768),C:[],v:[],d:new e(32768),D:[],u:new e(512),Q:[],r:new e(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new e(65536),g:new e(32768)}}(),function(){for(var r=e.H.m,t=32768,n=0;n<t;n++){var i=n;i=(2863311530&i)>>>1|(1431655765&i)<<1,i=(3435973836&i)>>>2|(858993459&i)<<2,i=(4042322160&i)>>>4|(252645135&i)<<4,i=(4278255360&i)>>>8|(16711935&i)<<8,r.r[n]=(i>>>16|i<<16)>>>17}function a(e,r,t){while(0!=r--)e.push(0,t)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];a(r._,144,8),a(r._,112,9),a(r._,24,7),a(r._,8,8),e.H.n(r._,9),e.H.A(r._,9,r.J),e.H.l(r._,9),a(r.$,32,5),e.H.n(r.$,5),e.H.A(r.$,5,r.h),e.H.l(r.$,5),a(r.Q,19,0),a(r.C,286,0),a(r.D,30,0),a(r.v,320,0)}(),e.H.N}(),a.decode._readInterlace=function(e,r){var t=r.width,n=r.height,i=a.decode._getBPP(r),f=i>>3,o=Math.ceil(t*i/8),l=new Uint8Array(n*o),s=0,c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],h=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],v=0;while(v<7){var p=h[v],g=d[v],w=0,b=0,y=c[v];while(y<n)y+=p,b++;var m=u[v];while(m<t)m+=g,w++;var A=Math.ceil(w*i/8);a.decode._filterZero(e,r,s,w,b);var U=0,_=c[v];while(_<n){var H=u[v],I=s+U*A<<3;while(H<t){if(1==i){var q=e[I>>3];q=q>>7-(7&I)&1,l[_*o+(H>>3)]|=q<<7-(7&H)}if(2==i){q=e[I>>3];q=q>>6-(7&I)&3,l[_*o+(H>>2)]|=q<<6-((3&H)<<1)}if(4==i){q=e[I>>3];q=q>>4-(7&I)&15,l[_*o+(H>>1)]|=q<<4-((1&H)<<2)}if(i>=8)for(var R=_*o+H*f,M=0;M<f;M++)l[R+M]=e[(I>>3)+M];I+=i,H+=g}U++,_+=p}w*b!=0&&(s+=b*(1+A)),v+=1}return l},a.decode._getBPP=function(e){var r=[1,null,3,1,2,null,4][e.ctype];return r*e.depth},a.decode._filterZero=function(e,r,t,n,i){var f=a.decode._getBPP(r),o=Math.ceil(n*f/8),l=a.decode._paeth;f=Math.ceil(f/8);var s=0,c=1,u=e[t],h=0;if(u>1&&(e[t]=[0,0,1][u-2]),3==u)for(h=f;h<o;h++)e[h+1]=e[h+1]+(e[h+1-f]>>>1)&255;for(var d=0;d<i;d++)if(s=t+d*o,c=s+d+1,u=e[c-1],h=0,0==u)for(;h<o;h++)e[s+h]=e[c+h];else if(1==u){for(;h<f;h++)e[s+h]=e[c+h];for(;h<o;h++)e[s+h]=e[c+h]+e[s+h-f]}else if(2==u)for(;h<o;h++)e[s+h]=e[c+h]+e[s+h-o];else if(3==u){for(;h<f;h++)e[s+h]=e[c+h]+(e[s+h-o]>>>1);for(;h<o;h++)e[s+h]=e[c+h]+(e[s+h-o]+e[s+h-f]>>>1)}else{for(;h<f;h++)e[s+h]=e[c+h]+l(0,e[s+h-o],0);for(;h<o;h++)e[s+h]=e[c+h]+l(e[s+h-f],e[s+h-o],e[s+h-f-o])}return e},a.decode._paeth=function(e,r,t){var n=e+r-t,i=n-e,a=n-r,f=n-t;return i*i<=a*a&&i*i<=f*f?e:a*a<=f*f?r:t},a.decode._IHDR=function(e,r,t){var n=a._bin;t.width=n.readUint(e,r),r+=4,t.height=n.readUint(e,r),r+=4,t.depth=e[r],r++,t.ctype=e[r],r++,t.compress=e[r],r++,t.filter=e[r],r++,t.interlace=e[r],r++},a._bin={nextZero:function(e,r){while(0!=e[r])r++;return r},readUshort:function(e,r){return e[r]<<8|e[r+1]},writeUshort:function(e,r,t){e[r]=t>>8&255,e[r+1]=255&t},readUint:function(e,r){return 16777216*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3])},writeUint:function(e,r,t){e[r]=t>>24&255,e[r+1]=t>>16&255,e[r+2]=t>>8&255,e[r+3]=255&t},readASCII:function(e,r,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[r+i]);return n},writeASCII:function(e,r,t){for(var n=0;n<t.length;n++)e[r+n]=t.charCodeAt(n)},readBytes:function(e,r,t){for(var n=[],i=0;i<t;i++)n.push(e[r+i]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,t){for(var n,i="",f=0;f<t;f++)i+="%"+a._bin.pad(e[r+f].toString(16));try{n=decodeURIComponent(i)}catch(o){return a._bin.readASCII(e,r,t)}return n}},a._copyTile=function(e,r,t,n,i,a,f,o,l){for(var s=Math.min(r,i),c=Math.min(t,a),u=0,h=0,d=0;d<c;d++)for(var v=0;v<s;v++)if(f>=0&&o>=0?(u=d*r+v<<2,h=(o+d)*i+f+v<<2):(u=(-o+d)*r-f+v<<2,h=d*i+v<<2),0==l)n[h]=e[u],n[h+1]=e[u+1],n[h+2]=e[u+2],n[h+3]=e[u+3];else if(1==l){var p=e[u+3]*(1/255),g=e[u]*p,w=e[u+1]*p,b=e[u+2]*p,y=n[h+3]*(1/255),m=n[h]*y,A=n[h+1]*y,U=n[h+2]*y,_=1-p,H=p+y*_,I=0==H?0:1/H;n[h+3]=255*H,n[h+0]=(g+m*_)*I,n[h+1]=(w+A*_)*I,n[h+2]=(b+U*_)*I}else if(2==l){p=e[u+3],g=e[u],w=e[u+1],b=e[u+2],y=n[h+3],m=n[h],A=n[h+1],U=n[h+2];p==y&&g==m&&w==A&&b==U?(n[h]=0,n[h+1]=0,n[h+2]=0,n[h+3]=0):(n[h]=g,n[h+1]=w,n[h+2]=b,n[h+3]=p)}else if(3==l){p=e[u+3],g=e[u],w=e[u+1],b=e[u+2],y=n[h+3],m=n[h],A=n[h+1],U=n[h+2];if(p==y&&g==m&&w==A&&b==U)continue;if(p<220&&y>20)return!1}return!0},a.encode=function(e,r,t,n,i,f,o){null==n&&(n=0),null==o&&(o=!1);var l=a.encode.compress(e,r,t,n,[!1,!1,!1,0,o]);return a.encode.compressPNG(l,-1),a.encode._main(l,r,t,i,f)},a.encodeLL=function(e,r,t,n,i,f,o,l){for(var s={ctype:0+(1==n?0:2)+(0==i?0:4),depth:f,frames:[]},c=(Date.now(),(n+i)*f),u=c*r,h=0;h<e.length;h++)s.frames.push({rect:{x:0,y:0,width:r,height:t},img:new Uint8Array(e[h]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});a.encode.compressPNG(s,0,!0);var d=a.encode._main(s,r,t,o,l);return d},a.encode._main=function(e,r,t,n,i){null==i&&(i={});var f=a.crc.crc,o=a._bin.writeUint,l=a._bin.writeUshort,s=a._bin.writeASCII,c=8,u=e.frames.length>1,h=!1,d=33+(u?20:0);if(null!=i["sRGB"]&&(d+=13),null!=i["pHYs"]&&(d+=21),3==e.ctype){for(var v=e.plte.length,p=0;p<v;p++)e.plte[p]>>>24!=255&&(h=!0);d+=8+3*v+4+(h?8+1*v+4:0)}for(var g=0;g<e.frames.length;g++){var w=e.frames[g];u&&(d+=38),d+=w.cimg.length+12,0!=g&&(d+=4)}d+=12;var b=new Uint8Array(d),y=[137,80,78,71,13,10,26,10];for(p=0;p<8;p++)b[p]=y[p];if(o(b,c,13),c+=4,s(b,c,"IHDR"),c+=4,o(b,c,r),c+=4,o(b,c,t),c+=4,b[c]=e.depth,c++,b[c]=e.ctype,c++,b[c]=0,c++,b[c]=0,c++,b[c]=0,c++,o(b,c,f(b,c-17,17)),c+=4,null!=i["sRGB"]&&(o(b,c,1),c+=4,s(b,c,"sRGB"),c+=4,b[c]=i["sRGB"],c++,o(b,c,f(b,c-5,5)),c+=4),null!=i["pHYs"]&&(o(b,c,9),c+=4,s(b,c,"pHYs"),c+=4,o(b,c,i["pHYs"][0]),c+=4,o(b,c,i["pHYs"][1]),c+=4,b[c]=i["pHYs"][2],c++,o(b,c,f(b,c-13,13)),c+=4),u&&(o(b,c,8),c+=4,s(b,c,"acTL"),c+=4,o(b,c,e.frames.length),c+=4,o(b,c,null!=i["loop"]?i["loop"]:0),c+=4,o(b,c,f(b,c-12,12)),c+=4),3==e.ctype){v=e.plte.length;o(b,c,3*v),c+=4,s(b,c,"PLTE"),c+=4;for(p=0;p<v;p++){var m=3*p,A=e.plte[p],U=255&A,_=A>>>8&255,H=A>>>16&255;b[c+m+0]=U,b[c+m+1]=_,b[c+m+2]=H}if(c+=3*v,o(b,c,f(b,c-3*v-4,3*v+4)),c+=4,h){o(b,c,v),c+=4,s(b,c,"tRNS"),c+=4;for(p=0;p<v;p++)b[c+p]=e.plte[p]>>>24&255;c+=v,o(b,c,f(b,c-v-4,v+4)),c+=4}}var I=0;for(g=0;g<e.frames.length;g++){w=e.frames[g];u&&(o(b,c,26),c+=4,s(b,c,"fcTL"),c+=4,o(b,c,I++),c+=4,o(b,c,w.rect.width),c+=4,o(b,c,w.rect.height),c+=4,o(b,c,w.rect.x),c+=4,o(b,c,w.rect.y),c+=4,l(b,c,n[g]),c+=2,l(b,c,1e3),c+=2,b[c]=w.dispose,c++,b[c]=w.blend,c++,o(b,c,f(b,c-30,30)),c+=4);var q=w.cimg;v=q.length;o(b,c,v+(0==g?0:4)),c+=4;var R=c;s(b,c,0==g?"IDAT":"fdAT"),c+=4,0!=g&&(o(b,c,I++),c+=4),b.set(q,c),c+=v,o(b,c,f(b,R,c-R)),c+=4}return o(b,c,0),c+=4,s(b,c,"IEND"),c+=4,o(b,c,f(b,c-4,4)),c+=4,b.buffer},a.encode.compressPNG=function(e,r,t){for(var n=0;n<e.frames.length;n++){var i=e.frames[n],f=(i.rect.width,i.rect.height),o=new Uint8Array(f*i.bpl+f);i.cimg=a.encode._filterZero(i.img,f,i.bpp,i.bpl,o,r,t)}},a.encode.compress=function(e,r,t,n,i){for(var f=i[0],o=i[1],l=i[2],s=i[3],c=i[4],u=6,h=8,d=255,v=0;v<e.length;v++)for(var p=new Uint8Array(e[v]),g=p.length,w=0;w<g;w+=4)d&=p[w+3];var b=255!=d,y=a.encode.framize(e,r,t,f,o,l),m={},A=[],U=[];if(0!=n){var _=[];for(w=0;w<y.length;w++)_.push(y[w].img.buffer);var H=a.encode.concatRGBA(_),I=a.quantize(H,n),q=0,R=new Uint8Array(I.abuf);for(w=0;w<y.length;w++){var M=y[w].img,T=M.length;U.push(new Uint8Array(I.inds.buffer,q>>2,T>>2));for(v=0;v<T;v+=4)M[v]=R[q+v],M[v+1]=R[q+v+1],M[v+2]=R[q+v+2],M[v+3]=R[q+v+3];q+=T}for(w=0;w<I.plte.length;w++)A.push(I.plte[w].est.rgba)}else for(v=0;v<y.length;v++){var z=y[v],D=new Uint32Array(z.img.buffer),x=z.rect.width,N=(g=D.length,new Uint8Array(g));U.push(N);for(w=0;w<g;w++){var P=D[w];if(0!=w&&P==D[w-1])N[w]=N[w-1];else if(w>x&&P==D[w-x])N[w]=N[w-x];else{var C=m[P];if(null==C&&(m[P]=C=A.length,A.push(P),A.length>=300))break;N[w]=C}}}var S=A.length;S<=256&&0==c&&(h=S<=2?1:S<=4?2:S<=16?4:8,h=Math.max(h,s));for(v=0;v<y.length;v++){z=y[v],z.rect.x,z.rect.y,x=z.rect.width;var B=z.rect.height,L=z.img,G=(new Uint32Array(L.buffer),4*x),Z=4;if(S<=256&&0==c){G=Math.ceil(h*x/8);for(var k=new Uint8Array(G*B),Y=U[v],E=0;E<B;E++){w=E*G;var Q=E*x;if(8==h)for(var F=0;F<x;F++)k[w+F]=Y[Q+F];else if(4==h)for(F=0;F<x;F++)k[w+(F>>1)]|=Y[Q+F]<<4-4*(1&F);else if(2==h)for(F=0;F<x;F++)k[w+(F>>2)]|=Y[Q+F]<<6-2*(3&F);else if(1==h)for(F=0;F<x;F++)k[w+(F>>3)]|=Y[Q+F]<<7-1*(7&F)}L=k,u=3,Z=1}else if(0==b&&1==y.length){k=new Uint8Array(x*B*3);var K=x*B;for(w=0;w<K;w++){M=3*w;var V=4*w;k[M]=L[V],k[M+1]=L[V+1],k[M+2]=L[V+2]}L=k,u=2,Z=3,G=3*x}z.img=L,z.bpl=G,z.bpp=Z}return{ctype:u,depth:h,plte:A,frames:y}},a.encode.framize=function(e,r,t,n,i,f){for(var o=[],l=0;l<e.length;l++){var s,c=new Uint8Array(e[l]),u=new Uint32Array(c.buffer),h=0,d=0,v=r,p=t,g=n?1:0;if(0!=l){for(var w=f||n||1==l||0!=o[l-2].dispose?1:2,b=0,y=1e9,m=0;m<w;m++){for(var A=new Uint8Array(e[l-1-m]),U=new Uint32Array(e[l-1-m]),_=r,H=t,I=-1,q=-1,R=0;R<t;R++)for(var M=0;M<r;M++){var T=R*r+M;u[T]!=U[T]&&(M<_&&(_=M),M>I&&(I=M),R<H&&(H=R),R>q&&(q=R))}-1==I&&(_=H=I=q=0),i&&(1==(1&_)&&_--,1==(1&H)&&H--);var z=(I-_+1)*(q-H+1);z<y&&(y=z,b=m,h=_,d=H,v=I-_+1,p=q-H+1)}A=new Uint8Array(e[l-1-b]);1==b&&(o[l-1].dispose=2),s=new Uint8Array(v*p*4),a._copyTile(A,r,t,s,v,p,-h,-d,0),g=a._copyTile(c,r,t,s,v,p,-h,-d,3)?1:0,1==g?a.encode._prepareDiff(c,r,t,s,{x:h,y:d,width:v,height:p}):a._copyTile(c,r,t,s,v,p,-h,-d,0)}else s=c.slice(0);o.push({rect:{x:h,y:d,width:v,height:p},img:s,blend:g,dispose:0})}if(n)for(l=0;l<o.length;l++){var D=o[l];if(1!=D.blend){var x=D.rect,N=o[l-1].rect,P=Math.min(x.x,N.x),C=Math.min(x.y,N.y),S=Math.max(x.x+x.width,N.x+N.width),B=Math.max(x.y+x.height,N.y+N.height),L={x:P,y:C,width:S-P,height:B-C};o[l-1].dispose=1,l-1!=0&&a.encode._updateFrame(e,r,t,o,l-1,L,i),a.encode._updateFrame(e,r,t,o,l,L,i)}}if(1!=e.length)for(T=0;T<o.length;T++){D=o[T];D.rect.width*D.rect.height}return o},a.encode._updateFrame=function(e,r,t,n,i,f,o){for(var l=Uint8Array,s=Uint32Array,c=new l(e[i-1]),u=new s(e[i-1]),h=i+1<e.length?new l(e[i+1]):null,d=new l(e[i]),v=new s(d.buffer),p=r,g=t,w=-1,b=-1,y=0;y<f.height;y++)for(var m=0;m<f.width;m++){var A=f.x+m,U=f.y+y,_=U*r+A,H=v[_];0==H||0==n[i-1].dispose&&u[_]==H&&(null==h||0!=h[4*_+3])||(A<p&&(p=A),A>w&&(w=A),U<g&&(g=U),U>b&&(b=U))}-1==w&&(p=g=w=b=0),o&&(1==(1&p)&&p--,1==(1&g)&&g--),f={x:p,y:g,width:w-p+1,height:b-g+1};var I=n[i];I.rect=f,I.blend=1,I.img=new Uint8Array(f.width*f.height*4),0==n[i-1].dispose?(a._copyTile(c,r,t,I.img,f.width,f.height,-f.x,-f.y,0),a.encode._prepareDiff(d,r,t,I.img,f)):a._copyTile(d,r,t,I.img,f.width,f.height,-f.x,-f.y,0)},a.encode._prepareDiff=function(e,r,t,n,i){a._copyTile(e,r,t,n,i.width,i.height,-i.x,-i.y,2)},a.encode._filterZero=function(e,r,t,n,f,o,l){var s,c=[],u=[0,1,2,3,4];-1!=o?u=[o]:(r*n>5e5||1==t)&&(u=[0]),l&&(s={level:0});for(var h=l&&null!=UZIP?UZIP:i(),d=0;d<u.length;d++){for(var v=0;v<r;v++)a.encode._filterLine(f,e,v,n,t,u[d]);c.push(h["deflate"](f,s))}var p,g=1e9;for(d=0;d<c.length;d++)c[d].length<g&&(p=d,g=c[d].length);return c[p]},a.encode._filterLine=function(e,r,t,n,i,f){var o=t*n,l=o+t,s=a.decode._paeth;if(e[l]=f,l++,0==f)if(n<500)for(var c=0;c<n;c++)e[l+c]=r[o+c];else e.set(new Uint8Array(r.buffer,o,n),l);else if(1==f){for(c=0;c<i;c++)e[l+c]=r[o+c];for(c=i;c<n;c++)e[l+c]=r[o+c]-r[o+c-i]+256&255}else if(0==t){for(c=0;c<i;c++)e[l+c]=r[o+c];if(2==f)for(c=i;c<n;c++)e[l+c]=r[o+c];if(3==f)for(c=i;c<n;c++)e[l+c]=r[o+c]-(r[o+c-i]>>1)+256&255;if(4==f)for(c=i;c<n;c++)e[l+c]=r[o+c]-s(r[o+c-i],0,0)+256&255}else{if(2==f)for(c=0;c<n;c++)e[l+c]=r[o+c]+256-r[o+c-n]&255;if(3==f){for(c=0;c<i;c++)e[l+c]=r[o+c]+256-(r[o+c-n]>>1)&255;for(c=i;c<n;c++)e[l+c]=r[o+c]+256-(r[o+c-n]+r[o+c-i]>>1)&255}if(4==f){for(c=0;c<i;c++)e[l+c]=r[o+c]+256-s(0,r[o+c-n],0)&255;for(c=i;c<n;c++)e[l+c]=r[o+c]+256-s(r[o+c-i],r[o+c-n],r[o+c-i-n])&255}}},a.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var t=r,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;e[r]=t}return e}(),update:function(e,r,t,n){for(var i=0;i<n;i++)e=a.crc.table[255&(e^r[t+i])]^e>>>8;return e},crc:function(e,r,t){return 4294967295^a.crc.update(4294967295,e,r,t)}},a.quantize=function(e,r){for(var t=new Uint8Array(e),n=t.slice(0),i=new Uint32Array(n.buffer),f=a.quantize.getKDtree(n,r),o=f[0],l=f[1],s=(a.quantize.planeDst,t),c=i,u=s.length,h=new Uint8Array(t.length>>2),d=0;d<u;d+=4){var v=s[d]*(1/255),p=s[d+1]*(1/255),g=s[d+2]*(1/255),w=s[d+3]*(1/255),b=a.quantize.getNearest(o,v,p,g,w);h[d>>2]=b.ind,c[d>>2]=b.est.rgba}return{abuf:n.buffer,inds:h,plte:l}},a.quantize.getKDtree=function(e,r,t){null==t&&(t=1e-4);var n=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=a.quantize.stats(e,i.i0,i.i1),i.est=a.quantize.estats(i.bst);var f=[i];while(f.length<r){for(var o=0,l=0,s=0;s<f.length;s++)f[s].est.L>o&&(o=f[s].est.L,l=s);if(o<t)break;var c=f[l],u=a.quantize.splitPixels(e,n,c.i0,c.i1,c.est.e,c.est.eMq255),h=c.i0>=u||c.i1<=u;if(h)c.est.L=0;else{var d={i0:c.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};d.bst=a.quantize.stats(e,d.i0,d.i1),d.est=a.quantize.estats(d.bst);var v={i0:u,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};v.bst={R:[],m:[],N:c.bst.N-d.bst.N};for(s=0;s<16;s++)v.bst.R[s]=c.bst.R[s]-d.bst.R[s];for(s=0;s<4;s++)v.bst.m[s]=c.bst.m[s]-d.bst.m[s];v.est=a.quantize.estats(v.bst),c.left=d,c.right=v,f[l]=d,f.push(v)}}f.sort(function(e,r){return r.bst.N-e.bst.N});for(s=0;s<f.length;s++)f[s].ind=s;return[i,f]},a.quantize.getNearest=function(e,r,t,n,i){if(null==e.left)return e.tdst=a.quantize.dist(e.est.q,r,t,n,i),e;var f=a.quantize.planeDst(e.est,r,t,n,i),o=e.left,l=e.right;f>0&&(o=e.right,l=e.left);var s=a.quantize.getNearest(o,r,t,n,i);if(s.tdst<=f*f)return s;var c=a.quantize.getNearest(l,r,t,n,i);return c.tdst<s.tdst?c:s},a.quantize.planeDst=function(e,r,t,n,i){var a=e.e;return a[0]*r+a[1]*t+a[2]*n+a[3]*i-e.eMq},a.quantize.dist=function(e,r,t,n,i){var a=r-e[0],f=t-e[1],o=n-e[2],l=i-e[3];return a*a+f*f+o*o+l*l},a.quantize.splitPixels=function(e,r,t,n,i,f){var o=a.quantize.vecDot;n-=4;while(t<n){while(o(e,t,i)<=f)t+=4;while(o(e,n,i)>f)n-=4;if(t>=n)break;var l=r[t>>2];r[t>>2]=r[n>>2],r[n>>2]=l,t+=4,n-=4}while(o(e,t,i)>f)t-=4;return t+4},a.quantize.vecDot=function(e,r,t){return e[r]*t[0]+e[r+1]*t[1]+e[r+2]*t[2]+e[r+3]*t[3]},a.quantize.stats=function(e,r,t){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],a=t-r>>2,f=r;f<t;f+=4){var o=e[f]*(1/255),l=e[f+1]*(1/255),s=e[f+2]*(1/255),c=e[f+3]*(1/255);i[0]+=o,i[1]+=l,i[2]+=s,i[3]+=c,n[0]+=o*o,n[1]+=o*l,n[2]+=o*s,n[3]+=o*c,n[5]+=l*l,n[6]+=l*s,n[7]+=l*c,n[10]+=s*s,n[11]+=s*c,n[15]+=c*c}return n[4]=n[1],n[8]=n[2],n[9]=n[6],n[12]=n[3],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:a}},a.quantize.estats=function(e){var r=e.R,t=e.m,n=e.N,i=t[0],f=t[1],o=t[2],l=t[3],s=0==n?0:1/n,c=[r[0]-i*i*s,r[1]-i*f*s,r[2]-i*o*s,r[3]-i*l*s,r[4]-f*i*s,r[5]-f*f*s,r[6]-f*o*s,r[7]-f*l*s,r[8]-o*i*s,r[9]-o*f*s,r[10]-o*o*s,r[11]-o*l*s,r[12]-l*i*s,r[13]-l*f*s,r[14]-l*o*s,r[15]-l*l*s],u=c,h=a.M4,d=[.5,.5,.5,.5],v=0,p=0;if(0!=n)for(var g=0;g<10;g++){if(d=h.multVec(u,d),p=Math.sqrt(h.dot(d,d)),d=h.sml(1/p,d),Math.abs(p-v)<1e-9)break;v=p}var w=[i*s,f*s,o*s,l*s],b=h.dot(h.sml(255,w),d);return{Cov:c,q:w,e:d,L:v,eMq255:b,eMq:h.dot(d,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2])<<16|Math.round(255*w[1])<<8|Math.round(255*w[0]))>>>0}},a.M4={multVec:function(e,r){return[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]]},dot:function(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]},sml:function(e,r){return[e*r[0],e*r[1],e*r[2],e*r[3]]}},a.encode.concatRGBA=function(e){for(var r=0,t=0;t<e.length;t++)r+=e[t].byteLength;var n=new Uint8Array(r),i=0;for(t=0;t<e.length;t++){for(var a=new Uint8Array(e[t]),f=a.length,o=0;o<f;o+=4){var l=a[o],s=a[o+1],c=a[o+2],u=a[o+3];0==u&&(l=s=c=0),n[i+o]=l,n[i+o+1]=s,n[i+o+2]=c,n[i+o+3]=u}i+=f}return n.buffer};const f=a}}]);