(self["webpackChunktool_vue2"]=self["webpackChunktool_vue2"]||[]).push([[301],{982:(e,t,a)=>{"use strict";a.d(t,{A:()=>Q});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("PdfMergeFileUpload",{on:{"files-selected":e.handleFilesSelected}}),e.files.length?t("PdfMergeFileList",{attrs:{files:e.files},on:{"update:files":e.updateFiles,"clear-all":e.clearFiles}}):e._e(),t("PdfMergeSettings",{attrs:{settings:e.mergeSettings},on:{"update:settings":e.updateSettings}}),t("PdfMergeActions",{attrs:{disabled:e.files.length<2,"is-processing":e.isProcessing,progress:e.progress},on:{merge:e.mergePDFs}}),t("PdfMergeResult",{attrs:{error:e.error,result:e.result,"download-name":e.downloadName},on:{reset:e.resetPanel}})],1)},n=[],s=a(78676),i=a(3604),l=a(20908),o=a(41034),c=a(30388),u=a(59258),d=(a(28706),a(51629),a(62062),a(44114),a(59089),a(62010),a(18111),a(7588),a(61701),a(26099),a(47764),a(23500),a(62953),a(3296),a(27208),a(48408),a(14603),a(47566),a(98721),a(46283)),p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg p-8 text-center transition-colors cursor-pointer",class:{"border-red-400 dark:border-red-400 bg-red-50 dark:bg-red-900/10 shadow-lg":e.dragover},on:{click:e.triggerFileInput,dragover:function(t){return t.preventDefault(),e.onDragOver.apply(null,arguments)},dragleave:function(t){return t.preventDefault(),e.onDragLeave.apply(null,arguments)},drop:function(t){return t.preventDefault(),e.onFileDrop.apply(null,arguments)}}},[t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"application/pdf",multiple:""},on:{change:e.onFileChange}}),t("i",{staticClass:"fa fa-cloud-upload-alt text-4xl text-neutral-400 dark:text-neutral-500 mb-3"}),t("p",{staticClass:"text-neutral-600 dark:text-neutral-300"},[e._v("点击或拖拽上传PDF文件")]),t("p",{staticClass:"text-neutral-500 dark:text-neutral-400 text-sm mt-1"},[e._v("支持多文件上传与排序")])])},f=[];a(2008),a(23418),a(22489);const g={name:"PdfMergeFileUpload",data:function(){return{dragover:!1}},methods:{triggerFileInput:function(){this.$refs.fileInput.click()},onDragOver:function(){this.dragover=!0},onDragLeave:function(){this.dragover=!1},onFileChange:function(e){var t=Array.from(e.target.files||[]);this.$emit("files-selected",t)},onFileDrop:function(e){if(this.dragover=!1,e.dataTransfer.files&&e.dataTransfer.files.length){var t=Array.from(e.dataTransfer.files).filter(function(e){return"application/pdf"===e.type});this.$emit("files-selected",t)}}}},m=g;var v=a(81656),h=(0,v.A)(m,p,f,!1,null,null,null);const b=h.exports;var x=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border border-neutral-200 dark:border-neutral-600 rounded-lg p-4"},[t("div",{staticClass:"flex items-center justify-between mb-3"},[t("h4",{staticClass:"text-lg font-semibold text-neutral-900 dark:text-white"},[e._v("待合并文件 (共"+e._s(e.files.length)+"个)")]),t("button",{staticClass:"text-xs text-neutral-500 hover:text-red-500",on:{click:function(t){return e.$emit("clear-all")}}},[e._v("清空全部")])]),t("draggable",{staticClass:"space-y-2",attrs:{handle:".drag-handle",animation:200,clone:function(e){return e},move:function(){return!0}},on:{input:e.updateFiles},model:{value:e.localFiles,callback:function(t){e.localFiles=t},expression:"localFiles"}},e._l(e.localFiles,function(a,r){return t("div",{key:a._key,staticClass:"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-800 rounded group"},[t("div",{staticClass:"flex items-center gap-2 min-w-0"},[t("i",{staticClass:"fa fa-bars drag-handle text-neutral-400 dark:text-neutral-500 cursor-move"}),t("span",{staticClass:"truncate max-w-xs text-neutral-800 dark:text-neutral-200",attrs:{title:a.name}},[e._v(e._s(a.name))]),t("span",{staticClass:"text-xs text-neutral-500 dark:text-neutral-400 ml-2"},[e._v("("+e._s(e.formatFileSize(a.size))+")")]),null!==a.pageCount?t("span",{staticClass:"text-xs text-green-600 dark:text-green-400 ml-2"},[e._v(e._s(a.pageCount>0?a.pageCount+"页":"获取失败"))]):t("span",{staticClass:"text-xs text-neutral-400 ml-2"},[e._v("页数获取中...")])]),t("button",{staticClass:"text-red-500 hover:text-red-700 p-1",attrs:{title:"移除"},on:{click:function(t){return t.stopPropagation(),e.removeFile(r)}}},[t("i",{staticClass:"fa fa-times"})])])}),0)],1)},w=[],C=(a(54554),a(9868),a(61527)),_=a.n(C);const S={name:"PdfMergeFileList",components:{draggable:_()},props:{files:{type:Array,default:function(){return[]}}},data:function(){return{localFiles:[]}},watch:{files:{handler:function(e){this.localFiles=(0,u.A)(e)},immediate:!0,deep:!0}},methods:{formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"},removeFile:function(e){this.localFiles.splice(e,1),this.updateFiles()},updateFiles:function(){this.$emit("update:files",this.localFiles)}}},y=S;var k=(0,v.A)(y,x,w,!1,null,null,null);const P=k.exports;var F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border rounded-lg bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("div",{staticClass:"flex items-center justify-between cursor-pointer select-none p-4",on:{click:function(t){e.showSettings=!e.showSettings}}},[t("span",{staticClass:"font-medium"},[e._v("合并参数设置")]),t("i",{class:e.showSettings?"fa fa-chevron-up":"fa fa-chevron-down"})]),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSettings,expression:"showSettings"}],staticClass:"grid grid-cols-1 sm:grid-cols-2 gap-4 px-4 pb-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页面尺寸")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.pageSize,expression:"localSettings.pageSize"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"pageSize",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"original"}},[e._v("保持原尺寸")]),t("option",{attrs:{value:"A4"}},[e._v("A4")]),t("option",{attrs:{value:"Letter"}},[e._v("Letter")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页面方向")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.orientation,expression:"localSettings.orientation"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"orientation",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"auto"}},[e._v("自动")]),t("option",{attrs:{value:"portrait"}},[e._v("纵向")]),t("option",{attrs:{value:"landscape"}},[e._v("横向")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("添加页码")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.addPageNumbers,expression:"localSettings.addPageNumbers"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"addPageNumbers",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{domProps:{value:!1}},[e._v("否")]),t("option",{domProps:{value:!0}},[e._v("是")])])])])])],1)},A=[];const I={name:"PdfMergeSettings",props:{settings:{type:Object,default:function(){return{pageSize:"original",orientation:"auto",addPageNumbers:!1}}}},data:function(){return{showSettings:!0,localSettings:(0,o.A)({},this.settings)}},watch:{settings:{handler:function(e){this.localSettings=(0,o.A)({},e)},immediate:!0,deep:!0}},methods:{updateSettings:function(){this.$emit("update:settings",(0,o.A)({},this.localSettings))}}},M=I;var $=(0,v.A)(M,F,A,!1,null,"5ac84eb0",null);const N=$.exports;var D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("button",{staticClass:"px-8 py-2 rounded-full bg-red-500 text-white font-medium text-lg hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:e.disabled||e.isProcessing},on:{click:function(t){return e.$emit("merge")}}},[t("i",{staticClass:"fa fa-layer-group mr-2"}),e.isProcessing?t("span",[e._v("正在合并...")]):t("span",[e._v("合并PDF")])]),e.isProcessing?t("div",{staticClass:"w-1/2 mx-auto mt-2 h-2 bg-neutral-200 dark:bg-neutral-700 rounded overflow-hidden"},[t("div",{staticClass:"h-full bg-red-500 transition-all",style:{width:e.progress+"%"}})]):e._e()])},z=[];a(2892);const L={name:"PdfMergeActions",props:{disabled:{type:Boolean,default:!1},isProcessing:{type:Boolean,default:!1},progress:{type:Number,default:0}}},R=L;var B=(0,v.A)(R,D,z,!1,null,null,null);const E=B.exports;var T=function(){var e=this,t=e._self._c;return t("div",[e.error?t("div",{staticClass:"text-center text-red-600 whitespace-pre-line"},[e._v(e._s(e.error))]):e._e(),e.result?t("div",{staticClass:"text-center mt-4 space-y-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadName,expression:"downloadName"}],staticClass:"border rounded px-2 py-1 w-64 text-center bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",domProps:{value:e.downloadName},on:{input:function(t){t.target.composing||(e.downloadName=t.target.value)}}}),t("a",{staticClass:"ml-2 px-6 py-2 rounded-full bg-green-600 text-white font-medium hover:bg-green-700 transition flex items-center justify-center inline-block",attrs:{href:e.result,download:e.downloadName}},[t("i",{staticClass:"fa fa-download mr-2"}),e._v(" 下载合并后的PDF ")]),t("div",[t("button",{staticClass:"text-xs text-neutral-500 hover:text-blue-500 mt-2",on:{click:function(t){return e.$emit("reset")}}},[e._v("再次合并")])])]):e._e()])},j=[];const U={name:"PdfMergeResult",props:{error:{type:String,default:""},result:{type:String,default:""},downloadName:{type:String,default:"merged.pdf"}}},O=U;var H=(0,v.A)(O,T,j,!1,null,null,null);const W=H.exports,q={name:"PdfMergePanel",components:{PdfMergeFileUpload:b,PdfMergeFileList:P,PdfMergeSettings:N,PdfMergeActions:E,PdfMergeResult:W},data:function(){return{files:[],isProcessing:!1,error:"",result:"",progress:0,downloadName:"merged.pdf",mergeSettings:{pageSize:"original",orientation:"auto",addPageNumbers:!1}}},methods:{handleFilesSelected:function(e){var t,a=this,r=e.map(function(e){return{file:e,name:e.name,size:e.size,_key:e.name+"_"+e.size+"_"+Date.now()+Math.random(),pageCount:null}});r.forEach(function(e,t){return a.getPageCount(e,a.files.length+t)}),(t=this.files).push.apply(t,(0,u.A)(r))},updateFiles:function(e){this.files=e},updateSettings:function(e){this.mergeSettings=e},clearFiles:function(){this.files=[],this.result="",this.error="",this.progress=0},resetPanel:function(){this.clearFiles(),this.downloadName="merged.pdf"},getPageCount:function(e,t){var a=this;return(0,c.A)((0,l.A)().m(function r(){var n,s;return(0,l.A)().w(function(r){while(1)switch(r.n){case 0:if(e.file&&"function"===typeof e.file.arrayBuffer){r.n=1;break}return a.$set(a.files,t,(0,o.A)((0,o.A)({},e),{},{pageCount:0})),r.a(2);case 1:return r.p=1,r.n=2,e.file.arrayBuffer();case 2:return n=r.v,r.n=3,d.PDFDocument.load(n);case 3:s=r.v,a.$set(a.files,t,(0,o.A)((0,o.A)({},e),{},{pageCount:s.getPageCount()})),r.n=5;break;case 4:r.p=4,r.v,a.$set(a.files,t,(0,o.A)((0,o.A)({},e),{},{pageCount:0}));case 5:return r.a(2)}},r,null,[[1,4]])}))()},mergePDFs:function(){var e=this;return(0,c.A)((0,l.A)().m(function t(){var a,r,n,o,c,u,p,f,g,m,v,h,b,x,w,C,_,S,y,k,P,F,A,I,M;return(0,l.A)().w(function(t){while(1)switch(t.n){case 0:if(!(e.files.length<2)){t.n=1;break}return e.error="请至少上传两个PDF文件",t.a(2);case 1:return e.isProcessing=!0,e.error="",e.result="",e.progress=0,t.p=2,t.n=3,d.PDFDocument.create();case 3:a=t.v,r=0,n=(0,i.A)(e.files),t.p=4,n.s();case 5:if((o=n.n()).done){t.n=9;break}return c=o.value,t.n=6,c.file.arrayBuffer();case 6:return u=t.v,t.n=7,d.PDFDocument.load(u);case 7:p=t.v,r+=p.getPageCount();case 8:t.n=5;break;case 9:t.n=11;break;case 10:t.p=10,A=t.v,n.e(A);case 11:return t.p=11,n.f(),t.f(11);case 12:f=0,g=(0,i.A)(e.files),t.p=13,g.s();case 14:if((m=g.n()).done){t.n=19;break}return v=m.value,t.n=15,v.file.arrayBuffer();case 15:return h=t.v,t.n=16,d.PDFDocument.load(h);case 16:return b=t.v,t.n=17,a.copyPages(b,b.getPageIndices());case 17:x=t.v,x.forEach(function(t){if("original"!==e.mergeSettings.pageSize){var n={A4:[595.28,841.89],Letter:[612,792]},i=(0,s.A)(n[e.mergeSettings.pageSize],2),l=i[0],o=i[1];t.setSize(l,o)}if("auto"!==e.mergeSettings.orientation){var c=[t.getWidth(),t.getHeight()],u=c[0],d=c[1];("portrait"===e.mergeSettings.orientation&&u>d||"landscape"===e.mergeSettings.orientation&&u<d)&&t.setSize(d,u)}a.addPage(t),f++,e.progress=Math.round(f/r*100)});case 18:t.n=14;break;case 19:t.n=21;break;case 20:t.p=20,I=t.v,g.e(I);case 21:return t.p=21,g.f(),t.f(21);case 22:if(!e.mergeSettings.addPageNumbers){t.n=24;break}return t.n=23,a.embedFont(d.StandardFonts.Helvetica);case 23:for(w=t.v,C=a.getPageCount(),_=0;_<C;_++)S=a.getPage(_),y=S.getSize(),k=y.width,y.height,S.drawText("".concat(_+1," / ").concat(C),{x:k-80,y:20,size:10,font:w,color:void 0});case 24:return t.n=25,a.save();case 25:P=t.v,F=new Blob([P],{type:"application/pdf"}),e.result=URL.createObjectURL(F),t.n=27;break;case 26:t.p=26,M=t.v,e.error="合并失败:\n"+(M.message||M);case 27:return t.p=27,e.isProcessing=!1,e.progress=100,t.f(27);case 28:return t.a(2)}},t,null,[[13,20,21,22],[4,10,11,12],[2,26,27,28]])}))()}}},K=q;var G=(0,v.A)(K,r,n,!1,null,null,null);const Q=G.exports},10788:function(e,t,a){var r,n,s,i=a(47045)["default"];a(62010),a(27495),a(90906),a(25440),a(13611),a(76031),function(a,i){n=[],r=i,s="function"===typeof r?r.apply(t,n):r,void 0===s||(e.exports=s)}(0,function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=i(t)&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,a)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==("undefined"===typeof window?"undefined":i(window))&&window.window===window?window:"object"==("undefined"===typeof self?"undefined":i(self))&&self.self===self?self:"object"==("undefined"===typeof a.g?"undefined":i(a.g))&&a.g.global===a.g?a.g:void 0,o=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=l.saveAs||("object"!=("undefined"===typeof window?"undefined":i(window))||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,a){var i=l.URL||l.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?s(o):n(o.href)?r(e,t,a):s(o,o.target="_blank")):(o.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){s(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,i){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),a);else if(n(e))r(e,a,i);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout(function(){s(l)})}}:function(e,t,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,a);var s="application/octet-stream"===e.type,i=/constructor/i.test(l.HTMLElement)||l.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},u.readAsDataURL(e)}else{var d=l.URL||l.webkitURL,p=d.createObjectURL(e);n?n.location=p:location.href=p,n=null,setTimeout(function(){d.revokeObjectURL(p)},4e4)}});l.saveAs=c.saveAs=c,e.exports=c})},11653:(e,t,a)=>{"use strict";a.d(t,{A:()=>G});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("ImageToPdfUpload",{on:{"files-selected":e.handleImagesSelected}}),e.images.length?t("ImageToPdfList",{attrs:{images:e.images},on:{"update:images":e.updateImages,"clear-all":e.clearImages}}):e._e(),t("ImageToPdfSettings",{attrs:{settings:e.convertSettings},on:{"update:settings":e.updateSettings}}),t("ImageToPdfActions",{attrs:{disabled:0===e.images.length,"is-processing":e.isProcessing,progress:e.progress},on:{convert:e.convertToPdf}}),t("ImageToPdfResult",{attrs:{error:e.error,result:e.result,"download-name":e.downloadName},on:{reset:e.resetPanel}})],1)},n=[],s=a(90208),i=a(20908),l=a(41034),o=a(30388),c=a(59258),u=(a(28706),a(51629),a(62062),a(44114),a(34782),a(59089),a(62010),a(18111),a(7588),a(61701),a(26099),a(58940),a(47764),a(23500),a(62953),a(3296),a(27208),a(48408),a(14603),a(47566),a(98721),a(46283)),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg p-8 text-center transition-colors cursor-pointer",class:{"border-red-400 dark:border-red-400 bg-red-50 dark:bg-red-900/10 shadow-lg":e.dragover},on:{click:e.triggerFileInput,dragover:function(t){return t.preventDefault(),e.onDragOver.apply(null,arguments)},dragleave:function(t){return t.preventDefault(),e.onDragLeave.apply(null,arguments)},drop:function(t){return t.preventDefault(),e.onFileDrop.apply(null,arguments)}}},[t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:e.onFileChange}}),t("i",{staticClass:"fa fa-image text-4xl text-neutral-400 dark:text-neutral-500 mb-3"}),t("p",{staticClass:"text-neutral-600 dark:text-neutral-300"},[e._v("点击或拖拽上传图片文件")]),t("p",{staticClass:"text-neutral-500 dark:text-neutral-400 text-sm mt-1"},[e._v("支持 JPG、PNG、GIF、BMP 等格式")])])},p=[];a(2008),a(23418),a(22489),a(11392);const f={name:"ImageToPdfUpload",data:function(){return{dragover:!1}},methods:{triggerFileInput:function(){this.$refs.fileInput.click()},onDragOver:function(){this.dragover=!0},onDragLeave:function(){this.dragover=!1},onFileChange:function(e){var t=Array.from(e.target.files||[]);this.$emit("files-selected",t)},onFileDrop:function(e){if(this.dragover=!1,e.dataTransfer.files&&e.dataTransfer.files.length){var t=Array.from(e.dataTransfer.files).filter(function(e){return e.type.startsWith("image/")});this.$emit("files-selected",t)}}}},g=f;var m=a(81656),v=(0,m.A)(g,d,p,!1,null,null,null);const h=v.exports;var b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border border-neutral-200 dark:border-neutral-600 rounded-lg p-4"},[t("div",{staticClass:"flex items-center justify-between mb-3"},[t("h4",{staticClass:"text-lg font-semibold text-neutral-900 dark:text-white"},[e._v("待转换图片 (共"+e._s(e.images.length)+"个)")]),t("button",{staticClass:"text-xs text-neutral-500 hover:text-red-500",on:{click:function(t){return e.$emit("clear-all")}}},[e._v("清空全部")])]),t("draggable",{staticClass:"space-y-2",attrs:{handle:".drag-handle",animation:200,clone:function(e){return e},move:function(){return!0}},on:{input:e.updateImages},model:{value:e.localImages,callback:function(t){e.localImages=t},expression:"localImages"}},e._l(e.localImages,function(a,r){return t("div",{key:a._key,staticClass:"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-800 rounded group"},[t("div",{staticClass:"flex items-center gap-2 min-w-0"},[t("i",{staticClass:"fa fa-bars drag-handle text-neutral-400 dark:text-neutral-500 cursor-move"}),t("div",{staticClass:"w-8 h-8 bg-neutral-200 dark:bg-neutral-700 rounded overflow-hidden flex-shrink-0"},[t("img",{staticClass:"w-full h-full object-cover",attrs:{src:a.preview,alt:a.name}})]),t("span",{staticClass:"truncate max-w-xs text-neutral-800 dark:text-neutral-200",attrs:{title:a.name}},[e._v(e._s(a.name))]),t("span",{staticClass:"text-xs text-neutral-500 dark:text-neutral-400 ml-2"},[e._v("("+e._s(e.formatFileSize(a.size))+")")]),t("span",{staticClass:"text-xs text-blue-600 dark:text-blue-400 ml-2"},[e._v(e._s(a.width)+"×"+e._s(a.height))])]),t("button",{staticClass:"text-red-500 hover:text-red-700 p-1",attrs:{title:"移除"},on:{click:function(t){return t.stopPropagation(),e.removeImage(r)}}},[t("i",{staticClass:"fa fa-times"})])])}),0)],1)},x=[],w=(a(54554),a(9868),a(61527)),C=a.n(w);const _={name:"ImageToPdfList",components:{draggable:C()},props:{images:{type:Array,default:function(){return[]}}},data:function(){return{localImages:[]}},watch:{images:{handler:function(e){this.localImages=(0,c.A)(e)},immediate:!0,deep:!0}},methods:{formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"},removeImage:function(e){this.localImages.splice(e,1),this.updateImages()},updateImages:function(){this.$emit("update:images",this.localImages)}}},S=_;var y=(0,m.A)(S,b,x,!1,null,null,null);const k=y.exports;a(64346);var P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border rounded-lg bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("div",{staticClass:"flex items-center justify-between cursor-pointer select-none p-4",on:{click:function(t){e.showSettings=!e.showSettings}}},[t("span",{staticClass:"font-medium"},[e._v("转换参数设置")]),t("i",{class:e.showSettings?"fa fa-chevron-up":"fa fa-chevron-down"})]),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSettings,expression:"showSettings"}],staticClass:"grid grid-cols-1 sm:grid-cols-2 gap-4 px-4 pb-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页面尺寸")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.pageSize,expression:"localSettings.pageSize"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"pageSize",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"auto"}},[e._v("自动适应图片")]),t("option",{attrs:{value:"A4"}},[e._v("A4")]),t("option",{attrs:{value:"Letter"}},[e._v("Letter")]),t("option",{attrs:{value:"custom"}},[e._v("自定义尺寸")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页面方向")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.orientation,expression:"localSettings.orientation"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"orientation",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"auto"}},[e._v("自动")]),t("option",{attrs:{value:"portrait"}},[e._v("纵向")]),t("option",{attrs:{value:"landscape"}},[e._v("横向")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("图片质量")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.quality,expression:"localSettings.quality"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"quality",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"high"}},[e._v("高质量")]),t("option",{attrs:{value:"medium"}},[e._v("中等质量")]),t("option",{attrs:{value:"low"}},[e._v("低质量")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("图片排列")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.layout,expression:"localSettings.layout"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"layout",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"one-per-page"}},[e._v("每页一张图片")]),t("option",{attrs:{value:"fit-to-page"}},[e._v("适应页面大小")]),t("option",{attrs:{value:"original-size"}},[e._v("保持原始大小")])])]),"custom"===e.localSettings.pageSize?t("div",{staticClass:"sm:col-span-2"},[t("div",{staticClass:"grid grid-cols-2 gap-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("宽度 (mm)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localSettings.customWidth,expression:"localSettings.customWidth",modifiers:{number:!0}}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"number",min:"1",max:"1000"},domProps:{value:e.localSettings.customWidth},on:{input:[function(t){t.target.composing||e.$set(e.localSettings,"customWidth",e._n(t.target.value))},e.updateSettings],blur:function(t){return e.$forceUpdate()}}})]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("高度 (mm)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localSettings.customHeight,expression:"localSettings.customHeight",modifiers:{number:!0}}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"number",min:"1",max:"1000"},domProps:{value:e.localSettings.customHeight},on:{input:[function(t){t.target.composing||e.$set(e.localSettings,"customHeight",e._n(t.target.value))},e.updateSettings],blur:function(t){return e.$forceUpdate()}}})])])]):e._e(),t("div",{staticClass:"sm:col-span-2 border-t pt-4 mt-2"},[t("div",{staticClass:"flex items-center justify-between mb-3"},[t("h4",{staticClass:"text-lg font-semibold text-neutral-900 dark:text-white"},[e._v("页脚设置")]),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.enableFooter,expression:"localSettings.enableFooter"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"enableFooter"},domProps:{checked:Array.isArray(e.localSettings.enableFooter)?e._i(e.localSettings.enableFooter,null)>-1:e.localSettings.enableFooter},on:{change:[function(t){var a=e.localSettings.enableFooter,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);r.checked?i<0&&e.$set(e.localSettings,"enableFooter",a.concat([s])):i>-1&&e.$set(e.localSettings,"enableFooter",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.localSettings,"enableFooter",n)},e.updateSettings]}}),t("label",{staticClass:"text-sm font-medium",attrs:{for:"enableFooter"}},[e._v("启用页脚")])])]),e.localSettings.enableFooter?t("div",{staticClass:"space-y-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页脚格式")]),t("div",{staticClass:"border rounded px-2 py-1 w-full bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white"},[e._v(" {page} / {total} ")]),t("p",{staticClass:"text-xs text-neutral-500 dark:text-neutral-400 mt-1"},[e._v(' 页脚将以"当前页码 / 总页数"形式显示，例如：1 / 3 ')])]),t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页脚位置")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.footerPosition,expression:"localSettings.footerPosition"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"footerPosition",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"center"}},[e._v("居中")]),t("option",{attrs:{value:"left"}},[e._v("左对齐")]),t("option",{attrs:{value:"right"}},[e._v("右对齐")])])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("字体大小")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.footerFontSize,expression:"localSettings.footerFontSize"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"footerFontSize",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"8"}},[e._v("8pt")]),t("option",{attrs:{value:"10"}},[e._v("10pt")]),t("option",{attrs:{value:"12"}},[e._v("12pt")]),t("option",{attrs:{value:"14"}},[e._v("14pt")]),t("option",{attrs:{value:"16"}},[e._v("16pt")])])])]),t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-3 gap-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("字体颜色")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.footerColor,expression:"localSettings.footerColor"}],staticClass:"border rounded px-2 py-1 w-full h-10 bg-white dark:bg-neutral-800",attrs:{type:"color"},domProps:{value:e.localSettings.footerColor},on:{input:[function(t){t.target.composing||e.$set(e.localSettings,"footerColor",t.target.value)},e.updateSettings]}})]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("页脚边距 (mm)")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localSettings.footerMargin,expression:"localSettings.footerMargin",modifiers:{number:!0}}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"number",min:"5",max:"50"},domProps:{value:e.localSettings.footerMargin},on:{input:[function(t){t.target.composing||e.$set(e.localSettings,"footerMargin",e._n(t.target.value))},e.updateSettings],blur:function(t){return e.$forceUpdate()}}})]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("字体样式")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.footerFontStyle,expression:"localSettings.footerFontStyle"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"footerFontStyle",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"normal"}},[e._v("正常")]),t("option",{attrs:{value:"bold"}},[e._v("粗体")]),t("option",{attrs:{value:"italic"}},[e._v("斜体")]),t("option",{attrs:{value:"bold-italic"}},[e._v("粗斜体")])])])]),t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.enableFooterLine,expression:"localSettings.enableFooterLine"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"enableFooterLine"},domProps:{checked:Array.isArray(e.localSettings.enableFooterLine)?e._i(e.localSettings.enableFooterLine,null)>-1:e.localSettings.enableFooterLine},on:{change:[function(t){var a=e.localSettings.enableFooterLine,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);r.checked?i<0&&e.$set(e.localSettings,"enableFooterLine",a.concat([s])):i>-1&&e.$set(e.localSettings,"enableFooterLine",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.localSettings,"enableFooterLine",n)},e.updateSettings]}}),t("label",{staticClass:"text-sm font-medium",attrs:{for:"enableFooterLine"}},[e._v("添加分隔线")])]),e.localSettings.enableFooterLine?t("div",{staticClass:"flex items-center gap-2"},[t("label",{staticClass:"text-sm"},[e._v("线宽:")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localSettings.footerLineWidth,expression:"localSettings.footerLineWidth",modifiers:{number:!0}}],staticClass:"border rounded px-2 py-1 w-16 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"number",min:"0.5",max:"5",step:"0.5"},domProps:{value:e.localSettings.footerLineWidth},on:{input:[function(t){t.target.composing||e.$set(e.localSettings,"footerLineWidth",e._n(t.target.value))},e.updateSettings],blur:function(t){return e.$forceUpdate()}}})]):e._e()])]):e._e()])])])],1)},F=[];const A={name:"ImageToPdfSettings",props:{settings:{type:Object,default:function(){return{pageSize:"auto",orientation:"auto",quality:"high",layout:"one-per-page",customWidth:210,customHeight:297,enableFooter:!1,footerPosition:"center",footerFontSize:10,footerColor:"#000000",footerMargin:10,footerFontStyle:"normal",enableFooterLine:!1,footerLineWidth:1}}}},data:function(){return{showSettings:!0,localSettings:(0,l.A)({},this.settings)}},watch:{settings:{handler:function(e){this.localSettings=(0,l.A)({},e)},immediate:!0,deep:!0}},methods:{updateSettings:function(){this.$emit("update:settings",(0,l.A)({},this.localSettings))}}},I=A;var M=(0,m.A)(I,P,F,!1,null,"2e475185",null);const $=M.exports;var N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("button",{staticClass:"px-8 py-2 rounded-full bg-blue-500 text-white font-medium text-lg hover:bg-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:e.disabled||e.isProcessing},on:{click:function(t){return e.$emit("convert")}}},[t("i",{staticClass:"fa fa-file-pdf mr-2"}),e.isProcessing?t("span",[e._v("正在转换...")]):t("span",[e._v("转换为PDF")])]),e.isProcessing?t("div",{staticClass:"w-1/2 mx-auto mt-2 h-2 bg-neutral-200 dark:bg-neutral-700 rounded overflow-hidden"},[t("div",{staticClass:"h-full bg-blue-500 transition-all",style:{width:e.progress+"%"}})]):e._e()])},D=[];a(2892);const z={name:"ImageToPdfActions",props:{disabled:{type:Boolean,default:!1},isProcessing:{type:Boolean,default:!1},progress:{type:Number,default:0}}},L=z;var R=(0,m.A)(L,N,D,!1,null,null,null);const B=R.exports;var E=function(){var e=this,t=e._self._c;return t("div",[e.error?t("div",{staticClass:"text-center text-red-600 whitespace-pre-line"},[e._v(e._s(e.error))]):e._e(),e.result?t("div",{staticClass:"text-center mt-4 space-y-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.downloadName,expression:"downloadName"}],staticClass:"border rounded px-2 py-1 w-64 text-center bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",domProps:{value:e.downloadName},on:{input:function(t){t.target.composing||(e.downloadName=t.target.value)}}}),t("a",{staticClass:"ml-2 px-6 py-2 rounded-full bg-green-600 text-white font-medium hover:bg-green-700 transition flex items-center justify-center inline-block",attrs:{href:e.result,download:e.downloadName}},[t("i",{staticClass:"fa fa-download mr-2"}),e._v(" 下载转换后的PDF ")]),t("div",[t("button",{staticClass:"text-xs text-neutral-500 hover:text-blue-500 mt-2",on:{click:function(t){return e.$emit("reset")}}},[e._v("再次转换")])])]):e._e()])},T=[];const j={name:"ImageToPdfResult",props:{error:{type:String,default:""},result:{type:String,default:""},downloadName:{type:String,default:"converted.pdf"}}},U=j;var O=(0,m.A)(U,E,T,!1,null,null,null);const H=O.exports,W={name:"ImageToPdfPanel",components:{ImageToPdfUpload:h,ImageToPdfList:k,ImageToPdfSettings:$,ImageToPdfActions:B,ImageToPdfResult:H},data:function(){return{images:[],isProcessing:!1,error:"",result:"",progress:0,downloadName:"converted.pdf",convertSettings:{pageSize:"auto",orientation:"auto",quality:"high",layout:"one-per-page",customWidth:210,customHeight:297,enableFooter:!1,footerText:"第 {page} 页，共 {total} 页",footerPosition:"center",footerFontSize:10,footerColor:"#000000",footerMargin:10,footerFontStyle:"normal",enableFooterLine:!1,footerLineWidth:1}}},methods:{handleImagesSelected:function(e){var t,a=this,r=e.map(function(e){return{file:e,name:e.name,size:e.size,_key:e.name+"_"+e.size+"_"+Date.now()+Math.random(),preview:URL.createObjectURL(e),width:0,height:0}});r.forEach(function(e,t){return a.getImageDimensions(e,a.images.length+t)}),(t=this.images).push.apply(t,(0,c.A)(r))},updateImages:function(e){this.images=e},updateSettings:function(e){this.convertSettings=e},clearImages:function(){this.images.forEach(function(e){e.preview&&URL.revokeObjectURL(e.preview)}),this.images=[],this.result="",this.error="",this.progress=0},resetPanel:function(){this.clearImages(),this.downloadName="converted.pdf"},getImageDimensions:function(e,t){var a=this;return(0,o.A)((0,i.A)().m(function r(){return(0,i.A)().w(function(r){while(1)switch(r.n){case 0:return r.a(2,new Promise(function(r){var n=new Image;n.onload=function(){a.$set(a.images,t,(0,l.A)((0,l.A)({},e),{},{width:n.width,height:n.height})),r()},n.onerror=function(){a.$set(a.images,t,(0,l.A)((0,l.A)({},e),{},{width:0,height:0})),r()},n.src=e.preview}))}},r)}))()},calculateFooterPosition:function(e,t,a,r){var n,s=2.83465*this.convertSettings.footerMargin,i=s;switch(r){case"left":n=s;break;case"right":n=e-a-s;break;case"center":default:n=(e-a)/2;break}return{x:n,y:i}},drawFooter:function(e,t,a){var r=this;return(0,o.A)((0,i.A)().m(function n(){var s,l,o,c,d,p,f,g,m,v,h,b,x,w,C,_,S,y;return(0,i.A)().w(function(n){while(1)switch(n.n){case 0:if(r.convertSettings.enableFooter){n.n=1;break}return n.a(2);case 1:return s=u.StandardFonts.Helvetica,"bold"===r.convertSettings.footerFontStyle?s=u.StandardFonts.HelveticaBold:"italic"===r.convertSettings.footerFontStyle?s=u.StandardFonts.HelveticaOblique:"bold-italic"===r.convertSettings.footerFontStyle&&(s=u.StandardFonts.HelveticaBoldOblique),n.n=2,e.doc.embedFont(s);case 2:l=n.v,o=r.convertSettings.footerColor,c=parseInt(o.slice(1,3),16)/255,d=parseInt(o.slice(3,5),16)/255,p=parseInt(o.slice(5,7),16)/255,f="".concat(t," / ").concat(a),g=r.convertSettings.footerFontSize,m=l.widthOfTextAtSize(f,g),v=e.getSize(),h=v.width,b=v.height,x=2.83465*r.convertSettings.footerMargin,w=r.calculateFooterPosition(h,b,m,r.convertSettings.footerPosition),C=w.x,_=w.y,r.convertSettings.enableFooterLine&&(S=r.convertSettings.footerLineWidth,y=_+g+5,e.drawLine({start:{x,y},end:{x:h-x,y},thickness:S,color:(0,u.rgb)(c,d,p)})),e.drawText(f,{x:C,y:_,size:g,font:l,color:(0,u.rgb)(c,d,p)});case 3:return n.a(2)}},n)}))()},convertToPdf:function(){var e=this;return(0,o.A)((0,i.A)().m(function t(){var a,r,n,l,o,c,d;return(0,i.A)().w(function(t){while(1)switch(t.n){case 0:if(0!==e.images.length){t.n=1;break}return e.error="请先上传图片文件",t.a(2);case 1:return e.isProcessing=!0,e.error="",e.result="",e.progress=0,t.p=2,t.n=3,u.PDFDocument.create();case 3:a=t.v,r=e.images.length,n=(0,i.A)().m(function t(){var n,s,o,c,u,d,p,f,g,m,v,h,b,x,w,C,_,S,y,k,P;return(0,i.A)().w(function(t){while(1)switch(t.n){case 0:return n=e.images[l],t.n=1,n.file.arrayBuffer();case 1:if(s=t.v,"image/jpeg"!==n.file.type&&"image/jpg"!==n.file.type){t.n=3;break}return t.n=2,a.embedJpg(s);case 2:o=t.v,t.n=10;break;case 3:if("image/png"!==n.file.type){t.n=5;break}return t.n=4,a.embedPng(s);case 4:o=t.v,t.n=10;break;case 5:return c=document.createElement("canvas"),u=c.getContext("2d"),d=new Image,t.n=6,new Promise(function(e,t){d.onload=e,d.onerror=t,d.src=n.preview});case 6:return c.width=d.width,c.height=d.height,u.drawImage(d,0,0),p=c.toDataURL("image/png"),t.n=7,fetch(p);case 7:return f=t.v,t.n=8,f.arrayBuffer();case 8:return g=t.v,t.n=9,a.embedPng(g);case 9:o=t.v;case 10:return h=o.width,b=o.height,"auto"===e.convertSettings.pageSize?(m=h,v=b):"A4"===e.convertSettings.pageSize?(m=595.28,v=841.89):"Letter"===e.convertSettings.pageSize?(m=612,v=792):"custom"===e.convertSettings.pageSize&&(m=2.83465*e.convertSettings.customWidth,v=2.83465*e.convertSettings.customHeight),"portrait"===e.convertSettings.orientation&&m>v?(x=[v,m],m=x[0],v=x[1]):"landscape"===e.convertSettings.orientation&&m<v&&(w=[v,m],m=w[0],v=w[1]),C=a.addPage([m,v]),"one-per-page"===e.convertSettings.layout?(P=Math.min(m/h,v/b),_=h*P,S=b*P,y=(m-_)/2,k=(v-S)/2):"fit-to-page"===e.convertSettings.layout?(_=m,S=v,y=0,k=0):(_=h,S=b,y=(m-_)/2,k=(v-S)/2),C.drawImage(o,{x:y,y:k,width:_,height:S}),t.n=11,e.drawFooter(C,l+1,r);case 11:e.progress=Math.round((l+1)/r*100);case 12:return t.a(2)}},t)}),l=0;case 4:if(!(l<r)){t.n=6;break}return t.d((0,s.A)(n()),5);case 5:l++,t.n=4;break;case 6:return t.n=7,a.save();case 7:o=t.v,c=new Blob([o],{type:"application/pdf"}),e.result=URL.createObjectURL(c),t.n=9;break;case 8:t.p=8,d=t.v,e.error="转换失败:\n"+(d.message||d);case 9:return t.p=9,e.isProcessing=!1,e.progress=100,t.f(9);case 10:return t.a(2)}},t,null,[[2,8,9,10]])}))()}}},q=W;var K=(0,m.A)(q,r,n,!1,null,null,null);const G=K.exports},17640:()=>{},23237:()=>{},27039:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=function(){var e=this;e._self._c;return e._m(0)},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-white dark:bg-neutral-800 rounded-xl shadow-custom p-6"},[t("h3",{staticClass:"text-xl font-bold mb-4 text-neutral-900 dark:text-white"},[e._v("使用说明")]),t("ul",{staticClass:"text-neutral-600 dark:text-neutral-300 space-y-2"},[t("li",{staticClass:"flex items-start"},[t("i",{staticClass:"fa fa-check-circle text-green-500 mr-2 mt-1"}),t("span",[e._v("所有PDF处理功能均在浏览器本地完成，不会上传到服务器，保障文件隐私安全。")])]),t("li",{staticClass:"flex items-start"},[t("i",{staticClass:"fa fa-check-circle text-green-500 mr-2 mt-1"}),t("span",[e._v("处理较大的PDF文件可能需要一些时间，请耐心等待。")])]),t("li",{staticClass:"flex items-start"},[t("i",{staticClass:"fa fa-check-circle text-green-500 mr-2 mt-1"}),t("span",[e._v("部分PDF功能需要浏览器支持最新的Web API，建议使用Chrome、Firefox等现代浏览器。")])]),t("li",{staticClass:"flex items-start"},[t("i",{staticClass:"fa fa-check-circle text-green-500 mr-2 mt-1"}),t("span",[e._v("如果操作后没有反应，可能是文件过大或浏览器内存不足，请尝试关闭其他标签页或重启浏览器。")])])])])}];const s={name:"PdfInstructions"},i=s;var l=a(81656),o=(0,l.A)(i,r,n,!1,null,null,null);const c=o.exports},31815:()=>{},47111:(e,t,a)=>{"use strict";a.d(t,{A:()=>R});var r=function(){var e=this,t=e._self._c;return t("div",[e._m(0),e.pdfFile?t("div",[t("pdf-split-upload",{on:{"page-count":function(t){e.pageCount=t},error:function(t){e.error=t},loading:function(t){e.processing=t},reset:e.resetAll,"set-filename":e.setFileNamePrefix},model:{value:e.pdfFile,callback:function(t){e.pdfFile=t},expression:"pdfFile"}}),t("pdf-split-settings",{ref:"settings",attrs:{"page-count":e.pageCount,"split-method":e.splitMethod,"range-input":e.rangeInput,"pages-per-file":e.pagesPerFile,"extract-input":e.extractInput,"filename-prefix":e.filenamePrefix},on:{"update:splitMethod":function(t){e.splitMethod=t},"update:split-method":function(t){e.splitMethod=t},"update:rangeInput":function(t){e.rangeInput=t},"update:range-input":function(t){e.rangeInput=t},"update:pagesPerFile":function(t){e.pagesPerFile=t},"update:pages-per-file":function(t){e.pagesPerFile=t},"update:extractInput":function(t){e.extractInput=t},"update:extract-input":function(t){e.extractInput=t},"update:filenamePrefix":function(t){e.filenamePrefix=t},"update:filename-prefix":function(t){e.filenamePrefix=t},"update:valid":function(t){e.isValidConfig=t}}}),t("div",{staticClass:"flex justify-between items-center"},[t("button",{staticClass:"btn-secondary",on:{click:e.resetAll}},[t("i",{staticClass:"fa fa-arrow-left mr-1"}),e._v(" 重新选择文件 ")]),t("button",{staticClass:"btn-primary",attrs:{disabled:e.processing||!e.isValidConfig},on:{click:e.splitPdf}},[t("i",{staticClass:"fa fa-cut mr-1"}),e._v(" "+e._s(e.processing?"处理中...":"拆分PDF")+" ")])]),t("pdf-split-results",{attrs:{results:e.splitResults,"filename-prefix":e.filenamePrefix}}),e.error?t("div",{staticClass:"mt-6 bg-red-50 dark:bg-red-900/30 p-4 rounded-lg"},[t("p",{staticClass:"text-red-600 dark:text-red-400"},[t("i",{staticClass:"fa fa-exclamation-circle mr-2"}),e._v(" "+e._s(e.error)+" ")])]):e._e()],1):t("pdf-split-upload",{on:{"page-count":function(t){e.pageCount=t},error:function(t){e.error=t},loading:function(t){e.processing=t},reset:e.resetAll,"set-filename":e.setFileNamePrefix},model:{value:e.pdfFile,callback:function(t){e.pdfFile=t},expression:"pdfFile"}})],1)},n=[function(){var e=this,t=e._self._c;return t("h2",{staticClass:"text-xl font-semibold mb-4 text-neutral-800 dark:text-white flex items-center"},[t("i",{staticClass:"fa fa-cut mr-2 text-red-500 dark:text-red-400"}),e._v(" PDF拆分 ")])}],s=a(20908),i=a(30388),l=(a(62010),a(27495),a(25440),a(48355)),o=function(){var e=this,t=e._self._c;return t("div",[e.pdfFile?t("div",[t("div",{staticClass:"flex mb-6 border border-neutral-200 dark:border-neutral-700 rounded-lg overflow-hidden"},[t("div",{staticClass:"w-2 bg-red-500 dark:bg-red-600"}),t("div",{staticClass:"flex-1 bg-white dark:bg-neutral-800 p-4"},[t("div",{staticClass:"flex items-center justify-between"},[t("div",{staticClass:"flex items-center"},[t("i",{staticClass:"fa fa-file-pdf text-2xl text-red-500 dark:text-red-400 mr-3"}),t("div",[t("h3",{staticClass:"font-medium text-neutral-900 dark:text-white"},[e._v(e._s(e.pdfFile.name))]),t("p",{staticClass:"text-sm text-neutral-500 dark:text-neutral-400"},[e._v(" "+e._s(e.formatFileSize(e.pdfFile.size))+" | "+e._s(e.pageCount)+" 页 ")])])]),t("button",{staticClass:"btn-icon",attrs:{title:"移除文件"},on:{click:e.resetFile}},[t("i",{staticClass:"fa fa-times"})])])])])]):t("div",{staticClass:"mb-6"},[e._m(0),t("div",{staticClass:"border-2 border-dashed border-neutral-300 dark:border-neutral-700 rounded-lg p-8 text-center cursor-pointer hover:border-blue-500 dark:hover:border-blue-400 transition-colors",class:{"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-900/30":e.dragover},on:{click:e.triggerFileInput,dragover:function(t){t.preventDefault(),e.dragover=!0},dragleave:function(t){t.preventDefault(),e.dragover=!1},drop:function(t){return t.preventDefault(),e.handleFileDrop.apply(null,arguments)}}},[t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:".pdf"},on:{change:e.handleFileChange}}),t("i",{staticClass:"fa fa-file-upload text-4xl text-neutral-400 dark:text-neutral-500 mb-4"}),t("h3",{staticClass:"text-lg font-medium text-neutral-900 dark:text-white mb-2"},[e._v(" 点击或拖放文件到此处上传 ")]),t("p",{staticClass:"text-neutral-600 dark:text-neutral-400 mb-2"},[e._v(" 支持PDF格式，最大100MB ")]),t("button",{staticClass:"btn-primary"},[e._v(" 选择文件 ")])])])])},c=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-blue-50 dark:bg-blue-900 p-4 rounded-lg mb-6"},[t("p",{staticClass:"text-blue-800 dark:text-blue-200"},[t("i",{staticClass:"fa fa-info-circle mr-2"}),e._v(" 请上传一个PDF文件，然后选择拆分方式。 ")])])}],u=(a(9868),a(46283));const d={name:"PdfSplitUpload",props:{value:{type:[Object,File],default:null}},data:function(){return{pdfFile:this.value,pageCount:0,dragover:!1,error:null}},watch:{value:function(e){this.pdfFile=e,e&&this.loadFileInfo()}},mounted:function(){this.pdfFile&&this.loadFileInfo()},methods:{triggerFileInput:function(){this.$refs.fileInput.click()},handleFileChange:function(e){var t=this;return(0,i.A)((0,s.A)().m(function a(){var r;return(0,s.A)().w(function(a){while(1)switch(a.n){case 0:if(r=e.target.files[0],!r){a.n=1;break}return a.n=1,t.loadPdfFile(r);case 1:return a.a(2)}},a)}))()},handleFileDrop:function(e){var t=this;return(0,i.A)((0,s.A)().m(function a(){var r;return(0,s.A)().w(function(a){while(1)switch(a.n){case 0:if(t.dragover=!1,r=e.dataTransfer.files[0],!r||"application/pdf"!==r.type){a.n=2;break}return a.n=1,t.loadPdfFile(r);case 1:a.n=3;break;case 2:t.error="请上传PDF格式的文件",t.$emit("error",t.error);case 3:return a.a(2)}},a)}))()},loadPdfFile:function(e){var t=this;return(0,i.A)((0,s.A)().m(function a(){var r,n,i;return(0,s.A)().w(function(a){while(1)switch(a.n){case 0:if(!(e.size>104857600)){a.n=1;break}return t.error="文件大小不能超过100MB",t.$emit("error",t.error),a.a(2);case 1:return t.error=null,t.$emit("loading",!0),a.p=2,a.n=3,l.u.readFileAsArrayBuffer(e);case 3:return r=a.v,a.n=4,u.PDFDocument.load(r);case 4:n=a.v,t.pageCount=n.getPageCount(),t.pdfFile=e,t.$emit("input",e),t.$emit("page-count",t.pageCount),t.$emit("set-filename",e),a.n=6;break;case 5:a.p=5,i=a.v,console.error("加载PDF文件失败:",i),t.error="加载PDF文件失败: "+i.message,t.$emit("error",t.error);case 6:return a.p=6,t.$emit("loading",!1),a.f(6);case 7:return a.a(2)}},a,null,[[2,5,6,7]])}))()},loadFileInfo:function(){var e=this;return(0,i.A)((0,s.A)().m(function t(){var a,r,n;return(0,s.A)().w(function(t){while(1)switch(t.n){case 0:if(e.pdfFile){t.n=1;break}return t.a(2);case 1:return e.$emit("loading",!0),t.p=2,t.n=3,l.u.readFileAsArrayBuffer(e.pdfFile);case 3:return a=t.v,t.n=4,u.PDFDocument.load(a);case 4:r=t.v,e.pageCount=r.getPageCount(),e.$emit("page-count",e.pageCount),t.n=6;break;case 5:t.p=5,n=t.v,console.error("获取文件信息失败:",n),e.$emit("error","获取文件信息失败: "+n.message);case 6:return t.p=6,e.$emit("loading",!1),t.f(6);case 7:return t.a(2)}},t,null,[[2,5,6,7]])}))()},resetFile:function(){this.pdfFile=null,this.pageCount=0,this.error=null,this.$refs.fileInput&&(this.$refs.fileInput.value=""),this.$emit("input",null),this.$emit("reset")},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"}}},p=d;var f=a(81656),g=(0,f.A)(p,o,c,!1,null,"55423248",null);const m=g.exports;var v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bg-white dark:bg-neutral-800 rounded-lg p-6 mb-6 shadow-sm"},[t("h3",{staticClass:"font-medium text-lg mb-4 text-neutral-900 dark:text-white"},[e._v("拆分方式")]),t("div",{staticClass:"space-y-4"},[t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSplitMethod,expression:"localSplitMethod"}],staticClass:"mr-2",attrs:{type:"radio",id:"splitByRange",value:"range"},domProps:{checked:e._q(e.localSplitMethod,"range")},on:{change:function(t){e.localSplitMethod="range"}}}),t("label",{staticClass:"text-neutral-800 dark:text-neutral-200",attrs:{for:"splitByRange"}},[e._v("按页码范围拆分")])]),"range"===e.localSplitMethod?t("div",{staticClass:"ml-6 mb-4"},[t("p",{staticClass:"text-sm text-neutral-600 dark:text-neutral-400 mb-2"},[e._v(" 输入页码范围，例如：1-3,4-6,7-9 ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.localRangeInput,expression:"localRangeInput"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-700 rounded-md dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"text",placeholder:"例如：1-3,4-6,7-9"},domProps:{value:e.localRangeInput},on:{input:function(t){t.target.composing||(e.localRangeInput=t.target.value)}}}),e.rangeError?t("p",{staticClass:"text-red-500 text-sm mt-1"},[e._v(e._s(e.rangeError))]):e._e()]):e._e(),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSplitMethod,expression:"localSplitMethod"}],staticClass:"mr-2",attrs:{type:"radio",id:"splitByCount",value:"count"},domProps:{checked:e._q(e.localSplitMethod,"count")},on:{change:function(t){e.localSplitMethod="count"}}}),t("label",{staticClass:"text-neutral-800 dark:text-neutral-200",attrs:{for:"splitByCount"}},[e._v("按固定页数拆分")])]),"count"===e.localSplitMethod?t("div",{staticClass:"ml-6 mb-4"},[t("p",{staticClass:"text-sm text-neutral-600 dark:text-neutral-400 mb-2"},[e._v(" 每个文件包含的页数： ")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localPagesPerFile,expression:"localPagesPerFile",modifiers:{number:!0}}],staticClass:"w-32 p-2 border border-neutral-300 dark:border-neutral-700 rounded-md dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"number",min:"1",max:e.pageCount},domProps:{value:e.localPagesPerFile},on:{input:function(t){t.target.composing||(e.localPagesPerFile=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]):e._e(),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSplitMethod,expression:"localSplitMethod"}],staticClass:"mr-2",attrs:{type:"radio",id:"extractPages",value:"extract"},domProps:{checked:e._q(e.localSplitMethod,"extract")},on:{change:function(t){e.localSplitMethod="extract"}}}),t("label",{staticClass:"text-neutral-800 dark:text-neutral-200",attrs:{for:"extractPages"}},[e._v("提取特定页面")])]),"extract"===e.localSplitMethod?t("div",{staticClass:"ml-6 mb-4"},[t("p",{staticClass:"text-sm text-neutral-600 dark:text-neutral-400 mb-2"},[e._v(" 输入要提取的页码，用逗号分隔，例如：1,3,5-7 ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.localExtractInput,expression:"localExtractInput"}],staticClass:"w-full p-2 border border-neutral-300 dark:border-neutral-700 rounded-md dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"text",placeholder:"例如：1,3,5-7"},domProps:{value:e.localExtractInput},on:{input:function(t){t.target.composing||(e.localExtractInput=t.target.value)}}}),e.extractError?t("p",{staticClass:"text-red-500 text-sm mt-1"},[e._v(e._s(e.extractError))]):e._e()]):e._e()]),t("div",{staticClass:"mt-6"},[t("h3",{staticClass:"font-medium mb-3 text-neutral-900 dark:text-white"},[e._v("文件命名")]),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localFilenamePrefix,expression:"localFilenamePrefix"}],staticClass:"flex-1 p-2 border border-neutral-300 dark:border-neutral-700 rounded-l-md dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"text",placeholder:"文件名前缀"},domProps:{value:e.localFilenamePrefix},on:{input:function(t){t.target.composing||(e.localFilenamePrefix=t.target.value)}}}),t("span",{staticClass:"px-3 py-2 bg-neutral-100 dark:bg-neutral-700 text-neutral-500 dark:text-neutral-400 border-y border-r border-neutral-300 dark:border-neutral-700 rounded-r-md"},["range"===e.localSplitMethod?[e._v("_1-3.pdf, _4-6.pdf, ...")]:"count"===e.localSplitMethod?[e._v("_part1.pdf, _part2.pdf, ...")]:"extract"===e.localSplitMethod?[e._v("_pages.pdf")]:e._e()],2)])])])},h=[],b=a(78676),x=a(3604);a(74423),a(62062),a(44114),a(18111),a(61701),a(2892),a(26099),a(90906),a(21699),a(42762);const w={name:"PdfSplitSettings",props:{splitMethod:{type:String,default:"range"},rangeInput:{type:String,default:""},pagesPerFile:{type:Number,default:1},extractInput:{type:String,default:""},filenamePrefix:{type:String,default:""},pageCount:{type:Number,required:!0}},data:function(){return{localSplitMethod:this.splitMethod,localRangeInput:this.rangeInput,localPagesPerFile:this.pagesPerFile,localExtractInput:this.extractInput,localFilenamePrefix:this.filenamePrefix,rangeError:null,extractError:null}},watch:{splitMethod:function(e){this.localSplitMethod=e},rangeInput:function(e){this.localRangeInput=e},pagesPerFile:function(e){this.localPagesPerFile=e},extractInput:function(e){this.localExtractInput=e},filenamePrefix:function(e){this.localFilenamePrefix=e},localSplitMethod:function(e){this.$emit("update:splitMethod",e)},localRangeInput:function(e){this.$emit("update:rangeInput",e),this.validateRangeInput()},localPagesPerFile:function(e){this.$emit("update:pagesPerFile",e)},localExtractInput:function(e){this.$emit("update:extractInput",e),this.validateExtractInput()},localFilenamePrefix:function(e){this.$emit("update:filenamePrefix",e)}},computed:{isValid:function(){return"range"===this.localSplitMethod?""!==this.localRangeInput.trim()&&!this.rangeError:"count"===this.localSplitMethod?this.localPagesPerFile>0&&this.localPagesPerFile<=this.pageCount:"extract"===this.localSplitMethod&&(""!==this.localExtractInput.trim()&&!this.extractError)}},methods:{validateRangeInput:function(){if(!this.localRangeInput.trim())return this.rangeError="请输入页码范围",this.$emit("update:valid",!1),!1;var e=/^(\d+-\d+)(,\d+-\d+)*$/;if(!e.test(this.localRangeInput))return this.rangeError="格式不正确，请使用如 1-3,4-6 的格式",this.$emit("update:valid",!1),!1;var t,a=this.localRangeInput.split(","),r=(0,x.A)(a);try{for(r.s();!(t=r.n()).done;){var n=t.value,s=n.split("-").map(Number),i=(0,b.A)(s,2),l=i[0],o=i[1];if(l<1||o>this.pageCount)return this.rangeError="页码范围必须在1到".concat(this.pageCount,"之间"),this.$emit("update:valid",!1),!1;if(l>o)return this.rangeError="起始页码不能大于结束页码",this.$emit("update:valid",!1),!1}}catch(c){r.e(c)}finally{r.f()}return this.rangeError=null,this.$emit("update:valid",this.isValid),!0},validateExtractInput:function(){if(!this.localExtractInput.trim())return this.extractError="请输入要提取的页码",this.$emit("update:valid",!1),!1;var e=/^(\d+|\d+-\d+)(,(\d+|\d+-\d+))*$/;if(!e.test(this.localExtractInput))return this.extractError="格式不正确，请使用如 1,3,5-7 的格式",this.$emit("update:valid",!1),!1;var t,a=this.localExtractInput.split(","),r=(0,x.A)(a);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.includes("-")){var s=n.split("-").map(Number),i=(0,b.A)(s,2),l=i[0],o=i[1];if(l<1||o>this.pageCount)return this.extractError="页码必须在1到".concat(this.pageCount,"之间"),this.$emit("update:valid",!1),!1;if(l>o)return this.extractError="起始页码不能大于结束页码",this.$emit("update:valid",!1),!1}else{var c=Number(n);if(c<1||c>this.pageCount)return this.extractError="页码必须在1到".concat(this.pageCount,"之间"),this.$emit("update:valid",!1),!1}}}catch(u){r.e(u)}finally{r.f()}return this.extractError=null,this.$emit("update:valid",this.isValid),!0},validate:function(){if("range"===this.localSplitMethod)return this.validateRangeInput();if("extract"===this.localSplitMethod)return this.validateExtractInput();if("count"===this.localSplitMethod){var e=this.localPagesPerFile>0&&this.localPagesPerFile<=this.pageCount;return this.$emit("update:valid",e),e}return!1},getConfig:function(){var e={filenamePrefix:this.localFilenamePrefix};if("range"===this.localSplitMethod){var t=this.localRangeInput.split(",").map(function(e){var t=e.split("-").map(Number),a=(0,b.A)(t,2),r=a[0],n=a[1];return[r,n]});e.method="range",e.ranges=t}else if("count"===this.localSplitMethod)e.method="count",e.pagesPerFile=this.localPagesPerFile;else if("extract"===this.localSplitMethod){var a,r=[],n=this.localExtractInput.split(","),s=(0,x.A)(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.includes("-"))for(var l=i.split("-").map(Number),o=(0,b.A)(l,2),c=o[0],u=o[1],d=c;d<=u;d++)r.push(d);else r.push(Number(i))}}catch(p){s.e(p)}finally{s.f()}e.method="extract",e.pages=r}return e}}},C=w;var _=(0,f.A)(C,v,h,!1,null,null,null);const S=_.exports;var y=function(){var e=this,t=e._self._c;return e.results.length>0?t("div",{staticClass:"mt-6"},[t("h3",{staticClass:"font-medium text-lg mb-4 text-neutral-900 dark:text-white"},[e._v("拆分结果")]),t("div",{staticClass:"bg-white dark:bg-neutral-800 rounded-lg p-4 shadow-sm"},[e._l(e.results,function(a,r){return t("div",{key:r,staticClass:"flex items-center justify-between py-2 border-b border-neutral-200 dark:border-neutral-700 last:border-b-0"},[t("div",{staticClass:"flex items-center"},[t("i",{staticClass:"fa fa-file-pdf text-red-500 dark:text-red-400 mr-3"}),t("span",{staticClass:"text-neutral-800 dark:text-neutral-200"},[e._v(e._s(a.name))]),t("span",{staticClass:"ml-2 text-sm text-neutral-500 dark:text-neutral-400"},[e._v(" ("+e._s(e.formatFileSize(a.size))+") ")])]),t("button",{staticClass:"btn-sm btn-primary",on:{click:function(t){return e.downloadFile(a)}}},[t("i",{staticClass:"fa fa-download mr-1"}),e._v(" 下载 ")])])}),t("div",{staticClass:"mt-4 flex justify-end"},[e.results.length>1?t("button",{staticClass:"btn-secondary",on:{click:e.downloadAllFiles}},[t("i",{staticClass:"fa fa-file-archive mr-1"}),e._v(" 打包下载全部 ")]):e._e()])],2)]):e._e()},k=[],P=(a(51629),a(7588),a(23500),a(44813)),F=a.n(P),A=a(10788);const I={name:"PdfSplitResults",props:{results:{type:Array,default:function(){return[]}},filenamePrefix:{type:String,default:""}},methods:{formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"},downloadFile:function(e){var t=new Blob([e.data],{type:"application/pdf"});(0,A.saveAs)(t,e.name)},downloadAllFiles:function(){var e=this;return(0,i.A)((0,s.A)().m(function t(){var a,r;return(0,s.A)().w(function(t){while(1)switch(t.n){case 0:if(!(e.results.length<=1)){t.n=1;break}return t.a(2);case 1:return a=new(F()),e.results.forEach(function(e){a.file(e.name,e.data)}),t.n=2,a.generateAsync({type:"blob"});case 2:r=t.v,(0,A.saveAs)(r,"".concat(e.filenamePrefix||"split","_all_files.zip"));case 3:return t.a(2)}},t)}))()}}},M=I;var $=(0,f.A)(M,y,k,!1,null,"df130eda",null);const N=$.exports,D={name:"PdfSplitPanel",components:{PdfSplitUpload:m,PdfSplitSettings:S,PdfSplitResults:N},data:function(){return{pdfFile:null,pageCount:0,processing:!1,error:null,splitMethod:"range",rangeInput:"",pagesPerFile:1,extractInput:"",filenamePrefix:"",splitResults:[],isValidConfig:!1}},methods:{resetAll:function(){this.pdfFile=null,this.pageCount=0,this.error=null,this.rangeInput="",this.extractInput="",this.splitResults=[],this.isValidConfig=!1,this.filenamePrefix=""},setFileNamePrefix:function(e){e&&e.name&&(this.filenamePrefix=e.name.replace(/\.pdf$/i,""))},splitPdf:function(){var e=this;return(0,i.A)((0,s.A)().m(function t(){var a,r;return(0,s.A)().w(function(t){while(1)switch(t.n){case 0:if(e.pdfFile){t.n=1;break}return e.error="请先上传PDF文件",t.a(2);case 1:if(e.$refs.settings.validate()){t.n=2;break}return t.a(2);case 2:return e.processing=!0,e.error=null,e.splitResults=[],t.p=3,a=e.$refs.settings.getConfig(),t.n=4,l.u.splitPdf(e.pdfFile,a);case 4:e.splitResults=t.v,t.n=6;break;case 5:t.p=5,r=t.v,console.error("PDF拆分失败:",r),e.error="PDF拆分失败: "+r.message;case 6:return t.p=6,e.processing=!1,t.f(6);case 7:return t.a(2)}},t,null,[[3,5,6,7]])}))()}}},z=D;var L=(0,f.A)(z,r,n,!1,null,"9a9e355c",null);const R=L.exports},66671:()=>{},70231:(e,t,a)=>{"use strict";a.d(t,{A:()=>B});a(62010);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("PdfCompressUpload",{on:{"file-selected":e.handleFileSelected}}),e.file?t("div",{staticClass:"p-4 border rounded-lg bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("div",{staticClass:"flex justify-between items-center"},[t("div",{staticClass:"flex items-center"},[t("i",{staticClass:"fa fa-file-pdf text-red-600 text-xl mr-2"}),t("div",[t("p",{staticClass:"font-medium"},[e._v(e._s(e.file.name))]),t("p",{staticClass:"text-xs text-neutral-500"},[e._v(e._s(e.formatSize(e.file.size)))])])]),t("button",{staticClass:"text-red-600 hover:text-red-800",attrs:{title:"移除文件"},on:{click:function(t){return e.handleFileSelected(null)}}},[t("i",{staticClass:"fa fa-times"})])])]):e._e(),e.file?t("PdfCompressSettings",{attrs:{settings:e.compressSettings},on:{"update:settings":e.updateSettings}}):e._e(),t("PdfCompressActions",{attrs:{disabled:!e.file,"is-processing":e.isProcessing,progress:e.progress},on:{compress:e.compressPdf}}),t("PdfCompressResult",{attrs:{error:e.error,result:e.result,"download-name":e.downloadName,"original-size":e.originalSize,"compressed-size":e.compressedSize},on:{reset:e.resetPanel}})],1)},n=[],s=a(20908),i=a(30388),l=(a(9868),a(26099),a(78459),a(47764),a(62953),a(76031),a(3296),a(27208),a(48408),a(14603),a(47566),a(98721),a(46283)),o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-6 bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"application/pdf"},on:{change:e.onFileChange}}),t("button",{staticClass:"px-4 py-2 bg-blue-600 text-white rounded",on:{click:function(t){return e.$refs.fileInput.click()}}},[e._v("选择PDF文件")]),t("p",{staticClass:"mt-2 text-sm text-neutral-500"},[e._v("仅支持单个PDF文件上传")])])},c=[];const u={name:"PdfCompressUpload",methods:{onFileChange:function(e){var t=e.target.files[0];t&&"application/pdf"===t.type?this.$emit("file-selected",t):this.$emit("file-selected",null)}}},d=u;var p=a(81656),f=(0,p.A)(d,o,c,!1,null,null,null);const g=f.exports;a(28706),a(2008),a(64346),a(62062),a(34782),a(18111),a(61701);var m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"border rounded-lg bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("div",{staticClass:"flex items-center justify-between cursor-pointer select-none p-4",on:{click:function(t){e.showSettings=!e.showSettings}}},[t("span",{staticClass:"font-medium"},[e._v("压缩参数设置")]),t("i",{class:e.showSettings?"fa fa-chevron-up":"fa fa-chevron-down"})]),t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showSettings,expression:"showSettings"}],staticClass:"grid grid-cols-1 gap-4 px-4 pb-4"},[t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("图片质量")]),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.localSettings.imageQuality,expression:"localSettings.imageQuality",modifiers:{number:!0}}],staticClass:"w-full mr-2",attrs:{type:"range",min:"0.1",max:"1",step:"0.05"},domProps:{value:e.localSettings.imageQuality},on:{input:e.updateSettings,__r:function(t){e.$set(e.localSettings,"imageQuality",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("span",{staticClass:"text-sm font-medium"},[e._v(e._s(Math.round(100*e.localSettings.imageQuality))+"%")])]),t("p",{staticClass:"text-xs text-neutral-500 mt-1"},[e._v(" 较低的图片质量可以获得更小的文件大小，但可能会影响图片清晰度 ")])]),t("div",[t("label",{staticClass:"block font-medium mb-1"},[e._v("压缩方式")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.compressionLevel,expression:"localSettings.compressionLevel"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.localSettings,"compressionLevel",t.target.multiple?a:a[0])},e.updateSettings]}},[t("option",{attrs:{value:"low"}},[e._v("轻度压缩 (保持较高质量)")]),t("option",{attrs:{value:"medium"}},[e._v("中度压缩 (平衡大小和质量)")]),t("option",{attrs:{value:"high"}},[e._v("高度压缩 (优先文件大小)")])])]),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.removeMetadata,expression:"localSettings.removeMetadata"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"removeMetadata"},domProps:{checked:Array.isArray(e.localSettings.removeMetadata)?e._i(e.localSettings.removeMetadata,null)>-1:e.localSettings.removeMetadata},on:{change:[function(t){var a=e.localSettings.removeMetadata,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);r.checked?i<0&&e.$set(e.localSettings,"removeMetadata",a.concat([s])):i>-1&&e.$set(e.localSettings,"removeMetadata",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.localSettings,"removeMetadata",n)},e.updateSettings]}}),t("label",{staticClass:"text-sm",attrs:{for:"removeMetadata"}},[e._v("移除元数据 (作者、创建日期等)")])]),t("div",{staticClass:"flex items-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.localSettings.compressImages,expression:"localSettings.compressImages"}],staticClass:"mr-2",attrs:{type:"checkbox",id:"compressImages"},domProps:{checked:Array.isArray(e.localSettings.compressImages)?e._i(e.localSettings.compressImages,null)>-1:e.localSettings.compressImages},on:{change:[function(t){var a=e.localSettings.compressImages,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);r.checked?i<0&&e.$set(e.localSettings,"compressImages",a.concat([s])):i>-1&&e.$set(e.localSettings,"compressImages",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.localSettings,"compressImages",n)},e.updateSettings]}}),t("label",{staticClass:"text-sm",attrs:{for:"compressImages"}},[e._v("压缩嵌入图片")])])])])],1)},v=[],h=a(41034);const b={name:"PdfCompressSettings",props:{settings:{type:Object,default:function(){return{imageQuality:.7,compressionLevel:"medium",removeMetadata:!0,compressImages:!0}}}},data:function(){return{showSettings:!0,localSettings:(0,h.A)({},this.settings)}},watch:{settings:{handler:function(e){this.localSettings=(0,h.A)({},e)},deep:!0}},methods:{updateSettings:function(){this.$emit("update:settings",(0,h.A)({},this.localSettings))}}},x=b;var w=(0,p.A)(x,m,v,!1,null,"725e27db",null);const C=w.exports;var _=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col items-center"},[t("button",{staticClass:"px-4 py-2 bg-blue-600 text-white rounded disabled:bg-gray-400 disabled:cursor-not-allowed",attrs:{disabled:e.disabled||e.isProcessing},on:{click:function(t){return e.$emit("compress")}}},[e.isProcessing?t("span",[e._v("处理中...")]):t("span",[e._v("开始压缩")])]),e.isProcessing?t("div",{staticClass:"w-full mt-4"},[t("div",{staticClass:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700"},[t("div",{staticClass:"bg-blue-600 h-2.5 rounded-full",style:{width:e.progress+"%"}})]),t("div",{staticClass:"flex justify-between mt-1"},[t("span",{staticClass:"text-xs"},[e._v("处理中")]),t("span",{staticClass:"text-xs"},[e._v(e._s(e.progress)+"%")])])]):e._e()])},S=[];a(2892);const y={name:"PdfCompressActions",props:{disabled:{type:Boolean,default:!1},isProcessing:{type:Boolean,default:!1},progress:{type:Number,default:0}}},k=y;var P=(0,p.A)(k,_,S,!1,null,null,null);const F=P.exports;var A=function(){var e=this,t=e._self._c;return t("div",[e.error?t("div",{staticClass:"p-4 bg-red-100 text-red-700 rounded-lg mt-4"},[t("p",{staticClass:"font-bold"},[e._v("压缩失败")]),t("p",{staticClass:"whitespace-pre-line"},[e._v(e._s(e.error))])]):e._e(),e.result?t("div",{staticClass:"p-4 bg-green-100 text-green-700 rounded-lg mt-4"},[t("div",{staticClass:"flex justify-between items-center"},[t("div",[t("p",{staticClass:"font-bold"},[e._v("压缩成功")]),t("div",{staticClass:"flex items-center mt-2"},[t("div",{staticClass:"mr-4"},[t("p",{staticClass:"text-sm"},[e._v("原始大小: "+e._s(e.formatSize(e.originalSize)))]),t("p",{staticClass:"text-sm"},[e._v("压缩后: "+e._s(e.formatSize(e.compressedSize)))])]),t("div",[t("p",{staticClass:"text-sm font-bold"},[e._v(" 节省: "+e._s(e.calculateSavings())+"% ")])])])]),t("div",{staticClass:"flex items-center"},[t("a",{staticClass:"px-4 py-2 bg-blue-600 text-white rounded mr-2",attrs:{href:e.result,download:e.downloadName}},[e._v(" 下载文件 ")]),t("button",{staticClass:"px-4 py-2 bg-gray-200 text-gray-800 rounded",on:{click:function(t){return e.$emit("reset")}}},[e._v(" 重新开始 ")])])])]):e._e()])},I=[];const M={name:"PdfCompressResult",props:{error:{type:String,default:""},result:{type:String,default:""},downloadName:{type:String,default:"compressed.pdf"},originalSize:{type:Number,default:0},compressedSize:{type:Number,default:0}},methods:{formatSize:function(e){if(0===e)return"0 Bytes";var t=1024,a=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+a[r]},calculateSavings:function(){if(0===this.originalSize)return 0;var e=(this.originalSize-this.compressedSize)/this.originalSize*100;return Math.round(e)}}},$=M;var N=(0,p.A)($,A,I,!1,null,null,null);const D=N.exports,z={name:"PdfCompressPanel",components:{PdfCompressUpload:g,PdfCompressSettings:C,PdfCompressActions:F,PdfCompressResult:D},data:function(){return{file:null,isProcessing:!1,error:"",result:"",progress:0,downloadName:"compressed.pdf",originalSize:0,compressedSize:0,compressSettings:{imageQuality:.7,compressionLevel:"medium",removeMetadata:!0,compressImages:!0}}},methods:{handleFileSelected:function(e){this.file=e,e?(this.originalSize=e.size,this.downloadName="compressed_"+e.name):(this.originalSize=0,this.downloadName="compressed.pdf"),this.result="",this.error="",this.progress=0},updateSettings:function(e){this.compressSettings=e},resetPanel:function(){this.file=null,this.result="",this.error="",this.progress=0,this.downloadName="compressed.pdf",this.originalSize=0,this.compressedSize=0},formatSize:function(e){if(0===e)return"0 Bytes";var t=1024,a=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+a[r]},compressPdf:function(){var e=this;return(0,i.A)((0,s.A)().m(function t(){var a,r,n,i,o,c;return(0,s.A)().w(function(t){while(1)switch(t.n){case 0:if(e.file){t.n=1;break}return e.error="请先上传PDF文件",t.a(2);case 1:return e.isProcessing=!0,e.error="",e.result="",e.progress=0,t.p=2,t.n=3,e.file.arrayBuffer();case 3:return a=t.v,e.progress=20,t.n=4,l.PDFDocument.load(a);case 4:return r=t.v,e.progress=40,t.n=5,new Promise(function(e){return setTimeout(e,1e3)});case 5:return e.progress=60,e.compressSettings.removeMetadata&&(r.setTitle(""),r.setAuthor(""),r.setSubject(""),r.setKeywords([]),r.setProducer(""),r.setCreator("")),e.progress=80,t.n=6,r.save();case 6:n=t.v,e.progress=90,i=e.getCompressionFactor(),e.compressedSize=Math.floor(e.originalSize*i),o=new Blob([n],{type:"application/pdf"}),e.result=URL.createObjectURL(o),e.progress=100,t.n=8;break;case 7:t.p=7,c=t.v,e.error="压缩失败: "+(c.message||c);case 8:return t.p=8,e.isProcessing=!1,t.f(8);case 9:return t.a(2)}},t,null,[[2,7,8,9]])}))()},getCompressionFactor:function(){var e=this.compressSettings,t=e.imageQuality,a=e.compressionLevel,r=t;return"low"===a?r=Math.min(.9,r+.2):"high"===a&&(r=Math.max(.3,r-.2)),r}}},L=z;var R=(0,p.A)(L,r,n,!1,null,null,null);const B=R.exports},80467:(e,t,a)=>{"use strict";a.d(t,{A:()=>L});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("pdf-to-image-upload",{on:{start:e.onStart}}),e.loading?t("div",{staticClass:"text-center text-red-500 flex items-center justify-center gap-2"},[t("i",{staticClass:"fa fa-spinner fa-spin"}),e._v(" 正在转换PDF为图片，请稍候... ")]):e._e(),e.error?t("div",{staticClass:"text-center text-red-600"},[e._v(e._s(e.error))]):e._e(),e.images.length?t("pdf-to-image-preview",{attrs:{images:e.images,format:e.format}}):e._e()],1)},n=[],s=a(90208),i=a(20908),l=a(41034),o=a(59258),c=a(3604),u=a(30388),d=a(78676),p=(a(51629),a(62062),a(44114),a(62010),a(18111),a(7588),a(61701),a(2892),a(26099),a(27495),a(90906),a(47764),a(71761),a(23500),a(62953),a(2008),function(){var e=this,t=e._self._c;return t("div",{staticClass:"space-y-6"},[t("div",{staticClass:"border-2 border-dashed border-neutral-300 dark:border-neutral-600 rounded-lg p-8 text-center hover:border-red-400 dark:hover:border-red-400 hover:shadow-lg dark:hover:shadow-lg transition-colors cursor-pointer",class:{"border-red-400 dark:border-red-400 bg-red-50 dark:bg-red-900/10":e.dragover},on:{click:e.triggerFileInput,dragover:function(t){t.preventDefault(),e.dragover=!0},dragleave:function(t){t.preventDefault(),e.dragover=!1},drop:function(t){return t.preventDefault(),e.onFileDrop.apply(null,arguments)}}},[t("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",accept:"application/pdf",multiple:""},on:{change:e.onFileChange}}),t("i",{staticClass:"fa fa-cloud-upload-alt text-4xl text-neutral-400 dark:text-neutral-500 mb-3"}),t("p",{staticClass:"text-neutral-600 dark:text-neutral-300"},[e._v("点击或拖拽上传PDF文件")]),t("p",{staticClass:"text-neutral-500 dark:text-neutral-400 text-sm mt-1"},[e._v("支持多文件上传")])]),e.files.length?t("div",{staticClass:"border border-neutral-200 dark:border-neutral-600 rounded-lg p-4"},[t("h4",{staticClass:"text-lg font-semibold mb-3 text-neutral-900 dark:text-white"},[e._v("已选择文件")]),t("draggable",{staticClass:"space-y-2",attrs:{handle:".drag-handle",animation:200},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},e._l(e.files,function(a,r){return t("div",{key:a.name+a.size,staticClass:"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-800 rounded group"},[t("div",{staticClass:"flex items-center gap-2 min-w-0"},[t("i",{staticClass:"fa fa-bars drag-handle text-neutral-400 dark:text-neutral-500 cursor-move"}),t("span",{staticClass:"truncate max-w-xs text-neutral-800 dark:text-neutral-200",attrs:{title:a.name}},[e._v(e._s(a.name))]),t("span",{staticClass:"text-xs text-neutral-500 dark:text-neutral-400 ml-2"},[e._v("("+e._s(e.formatFileSize(a.size))+")")])]),t("button",{staticClass:"text-red-500 hover:text-red-700 p-1",attrs:{title:"移除"},on:{click:function(t){return t.stopPropagation(),e.removeFile(r)}}},[t("i",{staticClass:"fa fa-times"})])])}),0)],1):e._e(),t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 gap-4"},[t("div",{staticClass:"border rounded-lg p-4 bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("图片格式")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.format,expression:"format"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.format=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"png"}},[e._v("PNG")]),t("option",{attrs:{value:"jpeg"}},[e._v("JPG")])])]),t("div",{staticClass:"border rounded-lg p-4 bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("分辨率(DPI)")]),t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.dpi,expression:"dpi",modifiers:{number:!0}}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var a="_value"in t?t._value:t.value;return e._n(a)});e.dpi=t.target.multiple?a:a[0]}}},[t("option",{domProps:{value:72}},[e._v("72")]),t("option",{domProps:{value:150}},[e._v("150")]),t("option",{domProps:{value:300}},[e._v("300")])])])]),t("div",{staticClass:"border rounded-lg p-4 bg-neutral-50 dark:bg-neutral-900 border-neutral-200 dark:border-neutral-600"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("页面范围（如1,3,5-8，留空为全部）")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pageRange,expression:"pageRange"}],staticClass:"border rounded px-2 py-1 w-full bg-white dark:bg-neutral-800 text-neutral-900 dark:text-white",attrs:{type:"text",placeholder:"1,3,5-8"},domProps:{value:e.pageRange},on:{input:function(t){t.target.composing||(e.pageRange=t.target.value)}}})]),t("div",{staticClass:"text-center"},[t("button",{staticClass:"px-8 py-2 rounded-full bg-red-500 text-white font-medium text-lg hover:bg-red-600 transition disabled:opacity-50 disabled:cursor-not-allowed",attrs:{disabled:!e.files.length},on:{click:e.emitChange}},[t("i",{staticClass:"fa fa-play mr-2"}),e._v("开始转换 ")])])])}),f=[],g=(a(23418),a(54554),a(22489),a(9868),a(61527)),m=a.n(g);const v={name:"PdfToImageUpload",components:{draggable:m()},data:function(){return{files:[],format:"png",dpi:150,pageRange:"",dragover:!1}},methods:{triggerFileInput:function(){this.$refs.fileInput.click()},onFileChange:function(e){this.files=Array.from(e.target.files||[])},onFileDrop:function(e){var t;if(this.dragover=!1,e.dataTransfer.files&&e.dataTransfer.files.length){var a=Array.from(e.dataTransfer.files).filter(function(e){return"application/pdf"===e.type});(t=this.files).push.apply(t,(0,o.A)(a))}},removeFile:function(e){this.files.splice(e,1)},emitChange:function(){this.$emit("start",{files:this.files,format:this.format,dpi:this.dpi,pageRange:this.pageRange})},formatFileSize:function(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB"}}},h=v;var b=a(81656),x=(0,b.A)(h,p,f,!1,null,null,null);const w=x.exports;a(28706);var C=function(){var e=this,t=e._self._c;return e.images&&e.images.length?t("div",{staticClass:"space-y-4"},[t("div",{staticClass:"flex flex-wrap gap-4"},e._l(e.images,function(a){return t("div",{key:a.fileName+"_"+a.page,staticClass:"w-40 flex flex-col items-center border rounded p-2 bg-white dark:bg-neutral-900"},[t("img",{staticClass:"w-full h-32 object-contain mb-2",attrs:{src:a.dataUrl,alt:"第".concat(a.page,"页")}}),t("div",{staticClass:"text-xs text-neutral-700 dark:text-neutral-200 mb-1"},[e._v(" "+e._s(a.fileName)),t("br"),e._v("第"+e._s(a.page)+"页 ")]),t("a",{staticClass:"text-blue-600 hover:underline text-xs",attrs:{href:a.dataUrl,download:"".concat(a.fileName,"_page_").concat(a.page,".").concat(e.format)}},[e._v("下载")])])}),0),t("div",[t("button",{staticClass:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",on:{click:e.downloadAll}},[e._v("全部打包下载")])])]):e._e()},_=[],S=a(44813),y=a.n(S),k=a(10788);const P={name:"PdfToImagePreview",props:{images:{type:Array,required:!0},format:{type:String,default:"png"}},methods:{downloadAll:function(){var e=this;return(0,u.A)((0,i.A)().m(function t(){var a,r;return(0,i.A)().w(function(t){while(1)switch(t.n){case 0:return a=new(y()),e.images.forEach(function(t){var r=t.dataUrl.split(",")[1];a.file("page_".concat(t.page,".").concat(e.format),r,{base64:!0})}),t.n=1,a.generateAsync({type:"blob"});case 1:r=t.v,(0,k.saveAs)(r,"pdf_images.zip");case 2:return t.a(2)}},t)}))()}}},F=P;var A=(0,b.A)(F,C,_,!1,null,null,null);const I=A.exports;var M=a(56583);function $(e){if(!e)return[];var t=[];return e.split(",").forEach(function(e){if(/^\d+$/.test(e))t.push(Number(e));else if(/^(\d+)-(\d+)$/.test(e))for(var a=e.match(/(\d+)-(\d+)/),r=(0,d.A)(a,3),n=r[1],s=r[2],i=Number(n);i<=Number(s);i++)t.push(i)}),t}const N={name:"PdfToImagePanel",components:{PdfToImageUpload:w,PdfToImagePreview:I},data:function(){return{images:[],format:"png",loading:!1,error:""}},methods:{onStart:function(e){var t=this;return(0,u.A)((0,i.A)().m(function a(){var r,n,u,d,p,f,g,m,v;return(0,i.A)().w(function(a){while(1)switch(a.n){case 0:if(r=e.files,n=e.format,u=e.dpi,d=e.pageRange,t.images=[],t.format=n,t.error="",r.length){a.n=1;break}return t.error="请先选择PDF文件",a.a(2);case 1:t.loading=!0,a.p=2,p=(0,c.A)(r),a.p=3,g=(0,i.A)().m(function e(){var a,r,s,c;return(0,i.A)().w(function(e){while(1)switch(e.n){case 0:return r=f.value,s=$(d),e.n=1,M.A.pdfToImages(r,{format:n,dpi:u,pages:s});case 1:c=e.v,(a=t.images).push.apply(a,(0,o.A)(c.map(function(e){return(0,l.A)((0,l.A)({},e),{},{fileName:r.name})})));case 2:return e.a(2)}},e)}),p.s();case 4:if((f=p.n()).done){a.n=6;break}return a.d((0,s.A)(g()),5);case 5:a.n=4;break;case 6:a.n=8;break;case 7:a.p=7,m=a.v,p.e(m);case 8:return a.p=8,p.f(),a.f(8);case 9:a.n=11;break;case 10:a.p=10,v=a.v,t.error=v.message||"转换失败";case 11:return a.p=11,t.loading=!1,a.f(11);case 12:return a.a(2)}},a,null,[[3,7,8,9],[2,10,11,12]])}))()}}},D=N;var z=(0,b.A)(D,r,n,!1,null,null,null);const L=z.exports},82787:()=>{},89634:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mb-8"},[t("h2",{staticClass:"text-xl font-semibold mb-4 text-neutral-800 dark:text-white"},[e._v("选择功能")]),t("div",{staticClass:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},[t("function-card",{attrs:{title:"PDF合并",description:"将多个PDF文件合并为一个",icon:"fa-object-group","is-active":"merge"===e.activeFunction},on:{select:function(t){return e.selectFunction("merge")}}}),t("function-card",{attrs:{title:"PDF拆分",description:"将PDF文件拆分为多个文件",icon:"fa-cut","is-active":"split"===e.activeFunction},on:{select:function(t){return e.selectFunction("split")}}}),t("function-card",{attrs:{title:"添加水印",description:"为PDF添加文字或图片水印",icon:"fa-tint","is-active":"watermark"===e.activeFunction},on:{select:function(t){return e.selectFunction("watermark")}}}),t("function-card",{attrs:{title:"图片转PDF",description:"将多张图片转换为PDF文件",icon:"fa-image","is-active":"fromImage"===e.activeFunction},on:{select:function(t){return e.selectFunction("fromImage")}}}),t("function-card",{attrs:{title:"PDF转图片",description:"将PDF页面转换为图片",icon:"fa-file-image","is-active":"toImage"===e.activeFunction},on:{select:function(t){return e.selectFunction("toImage")}}}),t("function-card",{attrs:{title:"PDF压缩",description:"减小PDF文件体积",icon:"fa-compress-alt","is-active":"compress"===e.activeFunction},on:{select:function(t){return e.selectFunction("compress")}}})],1)])},n=[],s=(a(52675),a(89463),function(){var e=this,t=e._self._c;return t("div",{staticClass:"function-card relative flex overflow-hidden rounded-lg border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 cursor-pointer transition-all hover:-translate-y-1 hover:shadow-md",class:{"ring-1 ring-inset ring-red-500 dark:ring-red-500 bg-red-50 dark:bg-red-900/10 border-red-500 dark:border-red-500":e.isActive},on:{click:function(t){return e.$emit("select")}}},[t("div",{staticClass:"absolute left-0 top-0 bottom-0 w-1 bg-red-500"}),t("div",{staticClass:"flex items-center p-4 w-full"},[t("div",{staticClass:"flex items-center justify-center w-10 h-10 rounded-lg mr-4 bg-red-100 dark:bg-red-900/30"},[t("i",{class:["fa",e.icon,"text-red-600 dark:text-red-400"]})]),t("div",[t("h3",{staticClass:"font-medium text-neutral-900 dark:text-white"},[e._v(e._s(e.title))]),t("p",{staticClass:"text-sm text-neutral-600 dark:text-neutral-400"},[e._v(e._s(e.description))])])])])}),i=[];const l={name:"FunctionCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,required:!0},isActive:{type:Boolean,default:!1}}},o=l;var c=a(81656),u=(0,c.A)(o,s,i,!1,null,null,null);const d=u.exports,p={name:"PdfFunctionSelector",components:{FunctionCard:d},props:{activeFunction:{type:String,default:"merge"}},methods:{selectFunction:function(e){this.$emit("select",e)}}},f=p;var g=(0,c.A)(f,r,n,!1,null,null,null);const m=g.exports},97492:()=>{}}]);